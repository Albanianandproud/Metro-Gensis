add_namespace = nf_hanza_satellite

country_event = {
	id = nf_hanza_satellite.1
	title = nf_hanza_satellite.1.t
	desc = nf_hanza_satellite.1.d
	picture = "GFX_event (28)"
	trigger = { threat > 0.1 }
	mean_time_to_happen = { days = 100 }
	fire_only_once = yes
	option = {
		name = nf_hanza_satellite.1.a
		add_ideas = hanza_satellite_immigrant_at_the_gates
		hidden_effect = { set_country_flag = hanza_satellite_immigrant_processing_country_flag }
		ai_chance = { factor = 1 }
	}
	option = { 
		name = nf_hanza_satellite.1.b
		add_ideas = hanza_satellite_immigrant_at_the_gates
		add_stability = -0.1
		custom_effect_tooltip = nf_hanza_satellite.1.b_tooltip
		hidden_effect = { 
			set_country_flag = hanza_satellite_immigrant_processing_country_flag
			set_country_flag = nf_hanza_satellite.1.b_country_flag
		}
		ai_chance = { factor = 1 }
	}
}
country_event = {
	id = nf_hanza_satellite.2
	title = nf_hanza_satellite.2.t
	desc = nf_hanza_satellite.2.d
	picture = "GFX_event (164)"
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = nf_hanza_satellite.2.a
		add_stability = -0.03
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite.2.b
		add_stability = -0.04
		capital_scope = {
			add_manpower = 10
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite.2.c
		add_stability = -0.05
		capital_scope = {
			add_manpower = 10
			add_extra_state_shared_building_slots = 1
		}
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = nf_hanza_satellite.3
	title = nf_hanza_satellite.3.t
	desc = nf_hanza_satellite.3.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.3.a
		swap_ideas = {
			remove_idea = hanza_satellite_immigrant_at_the_gates
			add_idea = hanza_satellite_immigrant_tightened_security
		}
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = nf_hanza_satellite.4
	title = nf_hanza_satellite.4.t
	desc = nf_hanza_satellite.4.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.4.a
		trigger = { has_equipment = { infantry_equipment > 24 } }
		add_equipment_to_stockpile = { 
			type = infantry_equipment
			amount = -25
		}
		FROM = {
			add_equipment_to_stockpile = { 
				type = infantry_equipment
				amount = 25
				producer = HNZ
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 5
				has_equipment = { infantry_equipment > 24 } 
			}
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 25 } 
			}
		}
	}

	option = {
		name = nf_hanza_satellite.4.b
		trigger = {
			set_temp_variable = { temp_bullet_cost = 100 }
			check_variable = {
				bullet > temp_bullet_cost	
			}
		}
		set_temp_variable = { bullet_to_gain = -100 }
		add_bullet_with_tooltip_effect = yes
		FROM = {
			add_equipment_to_stockpile = { 
				type = infantry_equipment
				amount = 25
				producer = HNZ
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 10
				set_temp_variable = { temp_bullet_cost = 100 }
				check_variable = {
					bullet > temp_bullet_cost	
				}
			}
			modifier = {
				factor = 0
				set_temp_variable = { temp_bullet_cost = 100 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}
	}

	option = {
		name = nf_hanza_satellite.4.c
		FROM = { country_event = { id = nf_hanza_satellite.9  days = 1 } }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = nf_hanza_satellite.5
	title = nf_hanza_satellite.5.t
	desc = nf_hanza_satellite.5.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.5.a
		trigger = { has_equipment = { support_equipment > 19 } }
		add_equipment_to_stockpile = { 
			type = support_equipment
			amount = -20
		}
		FROM = {
			add_equipment_to_stockpile = { 
				type = support_equipment
				amount = 20
				producer = HNZ
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 5
				has_equipment = { support_equipment > 19 } 
			}
			modifier = {
				factor = 0
				has_equipment = { support_equipment < 20 } 
			}
		}
	}

	option = {
		name = nf_hanza_satellite.5.b
		trigger = {
			set_temp_variable = { temp_bullet_cost = 100 }
			check_variable = {
				bullet > temp_bullet_cost	
			}
		}
		set_temp_variable = { bullet_to_gain = -100 }
		add_bullet_with_tooltip_effect = yes
		FROM = {
			add_equipment_to_stockpile = { 
				type = support_equipment
				amount = 20
				producer = HNZ
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 10
				set_temp_variable = { temp_bullet_cost = 100 }
				check_variable = {
					bullet > temp_bullet_cost	
				}
			}
			modifier = {
				factor = 0
				set_temp_variable = { temp_bullet_cost = 100 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}
	}

	option = {
		name = nf_hanza_satellite.5.c
		FROM = { country_event = { id = nf_hanza_satellite.9  days = 1 } }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = nf_hanza_satellite.6
	title = nf_hanza_satellite.6.t
	desc = nf_hanza_satellite.6.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.6.a
		trigger = { has_manpower > 14 }
		add_manpower = -15
		FROM = {
			add_manpower = 15
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 5
				has_manpower > 15 
			}
			modifier = {
				factor = 0
				has_manpower < 16 
			}
		}
	}

	option = {
		name = nf_hanza_satellite.6.b
		trigger = {
			set_temp_variable = { temp_bullet_cost = 150 }
			check_variable = {
				bullet > temp_bullet_cost	
			}
		}
		set_temp_variable = { bullet_to_gain = -150 }
		add_bullet_with_tooltip_effect = yes
		add_manpower = -15
		FROM = {
			add_manpower = 15
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 10
				set_temp_variable = { temp_bullet_cost = 150 }
				check_variable = {
					bullet > temp_bullet_cost	
				}
			}
			modifier = {
				factor = 0
				set_temp_variable = { temp_bullet_cost = 150 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}
	}

	option = {
		name = nf_hanza_satellite.6.c
		FROM = { country_event = { id = nf_hanza_satellite.9  days = 1 } }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = nf_hanza_satellite.7
	title = nf_hanza_satellite.7.t
	desc = nf_hanza_satellite.7.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.7.a
		trigger = {
			set_temp_variable = { temp_bullet_cost = 250 }
			check_variable = {
				bullet > temp_bullet_cost	
			}
		}
		set_temp_variable = { bullet_to_gain = -250 }
		add_bullet_with_tooltip_effect = yes
		FROM = {
			add_timed_idea = { idea = HNZ_satellite_defense_spending days = 180 }
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 10
				set_temp_variable = { temp_bullet_cost = 250 }
				check_variable = {
					bullet > temp_bullet_cost	
				}
			}
			modifier = {
				factor = 0
				set_temp_variable = { temp_bullet_cost = 250 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}
	}

	option = {
		name = nf_hanza_satellite.7.b
		FROM = { country_event = { id = nf_hanza_satellite.9  days = 1 } }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = nf_hanza_satellite.8
	title = nf_hanza_satellite.8.t
	desc = nf_hanza_satellite.8.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.8.a
		trigger = {
			set_temp_variable = { temp_bullet_cost = 250 }
			check_variable = {
				bullet > temp_bullet_cost	
			}
		}
		set_temp_variable = { bullet_to_gain = -250 }
		add_bullet_with_tooltip_effect = yes
		FROM = {
			add_tech_bonus = {
				name = infantry_bonus
				bonus = 1
				uses = 2
				category = infantry_tech
				ahead_reduction = 0.5
			}
		}
		ai_chance = {
			base = 1
			modifier = {
				add = 10
				set_temp_variable = { temp_bullet_cost = 250 }
				check_variable = {
					bullet > temp_bullet_cost	
				}
				
			}
			modifier = {
				factor = 0
				set_temp_variable = { temp_bullet_cost = 250 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}
	}

	option = {
		name = nf_hanza_satellite.8.b
		FROM = { country_event = { id = nf_hanza_satellite.9  days = 1 } }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = nf_hanza_satellite.9
	title = nf_hanza_satellite.9.t
	desc = nf_hanza_satellite.9.d
	picture = "GFX_event (164)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite.9.a
	}
}

add_namespace = nf_hanza_satellite_trade

country_event = {
	id = nf_hanza_satellite_trade.1
	title = nf_hanza_satellite_trade.1.t
	desc = nf_hanza_satellite_trade.1.d
	picture = "GFX_event (193)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_trade.1.a

		trigger = {
			NOT = {
				set_temp_variable = { temp_bullet_cost = 50 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}

		add_opinion_modifier = {
			target = ROOT
			modifier = hanza_satellite_trade
		}
	
		add_timed_idea = {
			idea = hanza_satellite_trade_bastion_modifier
			days = 300
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		set_temp_variable = { bullet_to_gain = -50 }
		add_bullet_with_tooltip_effect = yes

		FROM = {
			hanza_satellite_improve_relations_scripted_effect = yes
		}

		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				has_idea = hanza_satellite_trade_trade_modifier
			}
		}
	}

	option = {				## Intentional, only having 1 alt option
		name = nf_hanza_satellite_trade.1.b

		ai_chance = {
			base = 5
		}
	}
}
country_event = {
	id = nf_hanza_satellite_trade.2
	title = nf_hanza_satellite_trade.2.t
	desc = nf_hanza_satellite_trade.2.d
	picture = "GFX_event (193)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_trade.2.a

		trigger = {
			NOT = {
				set_temp_variable = { temp_bullet_cost = 50 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}

		add_opinion_modifier = {
			target = ROOT
			modifier = hanza_satellite_trade
		}
	
		add_timed_idea = {
			idea = hanza_satellite_trade_commerce_modifier
			days = 300
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		set_temp_variable = { bullet_to_gain = -50 }
		add_bullet_with_tooltip_effect = yes

		FROM = {
			hanza_satellite_improve_relations_scripted_effect = yes
		}

		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				has_idea = hanza_satellite_trade_commerce_modifier
			}
		}
	}

	option = {			## Intentional, only having 1 alt option
		name = nf_hanza_satellite_trade.1.b

		ai_chance = {
			base = 5
		}
	}
}
country_event = {
	id = nf_hanza_satellite_trade.3
	title = nf_hanza_satellite_trade.3.t
	desc = nf_hanza_satellite_trade.3.d
	picture = "GFX_event (193)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_trade.2.a

		trigger = {
			NOT = {
				set_temp_variable = { temp_bullet_cost = 50 }
				check_variable = {
					bullet < temp_bullet_cost	
				}
			}
		}

		add_opinion_modifier = {
			target = ROOT
			modifier = hanza_satellite_trade
		}
	
		add_timed_idea = {
			idea = hanza_satellite_trade_trade_modifier
			days = 300
		}

		custom_effect_tooltip = generic_skip_one_line_tt
		set_temp_variable = { bullet_to_gain = -50 }
		add_bullet_with_tooltip_effect = yes

		FROM = {
			hanza_satellite_improve_relations_scripted_effect = yes
		}

		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				has_idea = hanza_satellite_trade_bastion_modifier
			}
		}
	}

	option = {			
		name = nf_hanza_satellite_trade.1.b

		ai_chance = {
			base = 5
		}
	}
}

add_namespace = nf_hanza_satellite_puppet

country_event = {
	id = nf_hanza_satellite_puppet.1
	title = nf_hanza_satellite_puppet.1.t
	desc = nf_hanza_satellite_puppet.1.d
	picture = "GFX_event (156)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_puppet.1.a
		add_timed_idea = {
			idea = hanza_satellite_bandit_woes days = 150
		}
		hidden_effect = {
			country_event = { 
				id = nf_hanza_satellite_puppet.2
				days = 60
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite_puppet.1.a
		add_equipment_to_stockpile = {
			type = conventional_infantry_equipment_1
			amount = 20
			producer = RUS
		}
		OKT = {
			add_opinion_modifier = {
				target = TRT
				modifier = hanza_satellite_looking_the_other_way
			}
		}
		hidden_effect = {
			country_event = { 
				id = nf_hanza_satellite_puppet.2
				days = 60
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = nf_hanza_satellite_puppet.2
	title = nf_hanza_satellite_puppet.2.t
	desc = nf_hanza_satellite_puppet.2.d
	picture = "GFX_event (152)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_puppet.2.a
		add_timed_idea = {
			idea = hanza_satellite_bandit_infiltration days = 300
		}
		custom_effect_tooltip = nf_hanza_satellite_puppet.2.a.tt
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite_puppet.2.b
		add_political_power = -75
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = nf_hanza_satellite_puppet.3
	title = nf_hanza_satellite_puppet.3.t
	desc = nf_hanza_satellite_puppet.3.d
	picture = "GFX_event (193)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_puppet.3.a
		add_war_support = 0.05
		OKT = { add_war_support = 0.05 }
		end_puppet = OKT
		remove_from_faction = OKT
		create_wargoal = {
		    type = take_state_focus
		    target = OKT
		    generator = { 406 }
		    expire = 365
		}
		add_opinion_modifier = {
			target = OKT
			modifier = hanza_satellite_our_patience_thins
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite_puppet.3.b
		add_political_power = -75
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = nf_hanza_satellite_puppet.4
	title = nf_hanza_satellite_puppet.4.t
	desc = nf_hanza_satellite_puppet.4.d
	picture = "GFX_event (193)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_puppet.4.a
		#add_tech_bonus = {
		#	name = clothing_kits_bonus
		#	bonus = 0.5
		#	uses = 1
		#	ahead_reduction = 1
		#	category = stalker
		#}
		PRO = {
			add_opinion_modifier = {
				target = DRY
				modifier = hanza_satellite_bourbon
			}
		}
		hidden_effect = {
			country_event = { 
				id = nf_hanza_satellite_puppet.5
				days = 60
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite_puppet.4.b
		DRY = {
			add_opinion_modifier = {
				target = PRO
				modifier = hanza_satellite_dry_station
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}
country_event = {
	id = nf_hanza_satellite_puppet.5
	title = nf_hanza_satellite_puppet.5.t
	desc = nf_hanza_satellite_puppet.5.d
	picture = "GFX_event (193)"

	is_triggered_only = yes
	fire_only_once = yes
	
	option = {
		name = nf_hanza_satellite_puppet.5.a
		add_tech_bonus = {
			name = clothing_kits_bonus
			bonus = 0.5
			uses = 1
			ahead_reduction = 1
			category = stalker
		}
		HNZ = {
			add_opinion_modifier = {
				target = PRO
				modifier = hanza_satellite_dry_station
			}
		}
		RIZ = {
			add_opinion_modifier = {
				target = PRO
				modifier = hanza_satellite_dry_station
			}
		}
		ALK = {
			add_opinion_modifier = {
				target = PRO
				modifier = hanza_satellite_dry_station
			}
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = nf_hanza_satellite_puppet.5.b
	}
}