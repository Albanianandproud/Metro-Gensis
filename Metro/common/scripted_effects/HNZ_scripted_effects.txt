tunnel_cleansers_improve = {
	if = {
		limit = {
			has_idea = HNZ_tunnel_cleansers
		}
		swap_ideas = {
			remove_idea = HNZ_tunnel_cleansers
			add_idea = HNZ_tunnel_cleansers_2
		}
	}
}
reclamation_improve = {
	if = {
		limit = {
			has_idea = HNZ_reclamation_bureau
		}
		swap_ideas = {
			remove_idea = HNZ_reclamation_bureau
			add_idea = HNZ_reclamation_bureau_2
		}
	}
}
expeditions_improve = {
	if = {
		limit = {
			has_idea = HNZ_stalker_expeditions
		}
		swap_ideas = {
			remove_idea = HNZ_stalker_expeditions
			add_idea = HNZ_stalker_expeditions_2
		}
	}
}
HNZ_mutant_purge_scripted_effect = {
	if = {
		limit = {
			any_neighbor_country = {
				has_country_flag = is_mutant_nation
				has_country_flag = is_savage_nation
				has_country_flag = is_skaven_nation
			}
		}
		custom_effect_tooltip = HNZ_agenda_failure
		country_event = nf_HNZ.42 # Failure Event
	}
	else_if = {
		limit = {
			any_neighbor_country = {
				NOT = {
					has_country_flag = is_mutant_nation
					has_country_flag = is_savage_nation
					has_country_flag = is_skaven_nation
				}
			}
		}
		country_event = nf_HNZ.41 # Completion event
		add_ideas = HNZ_purge_the_unclean
		custom_effect_tooltip = HNZ_gain_political_control
		hidden_effect = { add_to_variable = { var = HNZ_political_authority value = 1 } }
	}
}

HNZ_moscow_awakes_scripted_effect = {
	HNZ = {
		set_cosmetic_tag = HNZ_invisible_observers_tag
		set_politics = { 
			ruling_party = dictatorial
			elections_allowed = no 
		}
	}
	add_threat = 10
	ROOT = { news_event = { id = global_event.68 } }

	retire_ideology_leader = dictatorial 
	add_country_leader_role = {
		character = HNZ_invisible_observer
		promote_leader = yes
		country_leader = {
			ideology = totalitarianism
			expire = "2999.9.9"
			traits = { HNZ_russia_government_remnants }
		}
	} 
}

HNZ_civil_war_scripted_effect = {
	if = {
		limit = {
			NOT = { has_country_flag = HNZ_bypass_civil_war }
		}
		release = SRL
		add_civil_war_target = SRL
		declare_war_on = {
			target = SRL
			type = civil_war
		}
		transfer_units_fraction= {
			target = SRL
			size = 0.5
			stockpile_ratio = 0.5
		}
		hidden_effect = {
			SRL = {
				division_template = {
					name = "Caravan Levies"
					priority = 1
					template_counter = 0
					regiments = {
						irregulars =  { x = 0 y = 0 }
						irregulars =  { x = 1 y = 0 }
						irregulars =  { x = 2 y = 0 }
						irregulars =  { x = 3 y = 0 }
						irregulars =  { x = 4 y = 0 }
					}
					support = {
						logistics_company  = { x = 0 y = 1 }    
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1st Volunteer Militia\" division_template = \"Caravan Levies\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"2nd Volunteer Militia\" division_template = \"Caravan Levies\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"3rd Volunteer Militia\" division_template = \"Caravan Levies\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
					}
					create_unit = {
						division = "name = \"4th Volunteer Militia\" division_template = \"Caravan Levies\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
}

## HNZ Mandates

HNZ_decentralized_commonwealth_tax_modify = {
	custom_effect_tooltip = HNZ_decentralized_commonwealth_modify_tt
	add_to_variable = { HNZ_tax_efficiency_modifier = 0.1 tooltip = tax_efficiency_modifier_tt }
}
HNZ_decentralized_commonwealth_political_modify = {
	custom_effect_tooltip = HNZ_decentralized_commonwealth_modify_tt
	add_to_variable = { HNZ_political_power_factor = 0.1 tooltip = political_power_factor_tt }
}
HNZ_decentralized_commonwealth_arms_factory_modify = {
	custom_effect_tooltip = HNZ_decentralized_commonwealth_modify_tt
	add_to_variable = { HNZ_production_speed_arms_factory_factor = 0.05 tooltip = production_speed_arms_factory_factor_tt }
}
HNZ_decentralized_commonwealth_max_efficiency_modify = {
	custom_effect_tooltip = HNZ_decentralized_commonwealth_modify_tt
	add_to_variable = { HNZ_production_factory_max_efficiency_factor = 0.15 tooltip = production_factory_max_efficiency_factor_tt }
}
HNZ_decentralized_commonwealth_militarisation_modify = {
	custom_effect_tooltip = HNZ_decentralized_commonwealth_modify_tt
	add_to_variable = { HNZ_industrial_production_factory_efficiency_gain_factor = 0.05 tooltip = production_factory_efficiency_gain_factor_tt }
	add_to_variable = { HNZ_industrial_production_factory_start_efficiency_factor = 0.05 tooltip = production_factory_start_efficiency_factor_tt }
}

HNZ_trade_economy_modify = {
	custom_effect_tooltip = HNZ_trade_economy_modify_tt
	add_to_variable = { HNZ_consumer_goods_factor = -0.05 tooltip = consumer_goods_factor_tt }
}

HNZ_board_versus_council_manager_modify = {
	custom_effect_tooltip = HNZ_board_versus_council_modify_tt
	add_to_variable = { HNZ_political_power_gain = 0.15 tooltip = political_power_gain_tt }
	add_to_variable = { HNZ_party_popularity_stability_factor = -0.1 tooltip = party_popularity_stability_factor_tt }
}
HNZ_board_versus_council_board_modify = {
	custom_effect_tooltip = HNZ_board_versus_council_modify_tt
	add_to_variable = { HNZ_party_popularity_stability_factor = 0.1 tooltip = party_popularity_stability_factor_tt }
}


HNZ_defense_doctrine_military_competency = {
	custom_effect_tooltip = HNZ_defense_doctrine_modify_tt
	add_to_variable = { HNZ_land_doctrine_cost_factor = -0.1 tooltip = land_doctrine_cost_factor_tt }
	add_to_variable = { HNZ_max_command_power_mult = 0.1 tooltip = max_command_power_mult_tt }
	add_to_variable = { HNZ_experience_gain_factor = 0.1 tooltip = experience_gain_army_factor_tt }
}
HNZ_defense_doctrine_army_competency = {
	custom_effect_tooltip = HNZ_defense_doctrine_modify_tt
	add_to_variable = { HNZ_army_org_factor = 0.1 tooltip = army_org_factor_tt }
}



