continuous_focus_position = { x = 50 y = 1000 }

focus_tree = {
	id = red_line
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = RED
		}
	}

	focus = {
		id = RED_introduction
		icon = GFX_focus_generic_join_comintern
		x = 14
		y = 0
		cost = 6.5

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		    country_event = nf_RED.1 ## 
		}
	}

	focus = {
		id = RED_revolution_triumphant
		icon = GFX_focus_generic_join_comintern
		x = 1
		y = 0
		cost = 6.5

		ai_will_do = {
			factor = 2
		}

		## Should become avaliable after chosing leaders

		completion_reward = {
	        add_political_power = 135
	        add_stability = 0.04 
		}
	}
	### Industrial Path ###

	focus = {
		id = RED_left_branch_1
		icon = GFX_focus_prc_agrarian_socialism
		cost = 6.5

		prerequisite = {
			focus = RED_revolution_triumphant
		}
		x = 3
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_political_power = 90
	        ## Event should introduce rationing and famine mechanic
	        custom_effect_tooltip = future_update_tt
		}
	}

	focus = {
		id = RED_left_branch_2a
		icon = GFX_focus_por_workers_of_iberia
		cost = 6.5

		prerequisite = {
			focus = RED_left_branch_1
		}
		x = -1
		y = 1
		relative_position_id = RED_left_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_stability = 0.05
		   	custom_effect_tooltip = future_update_tt
		}
	}

	focus = {
		id = RED_left_branch_2b
		icon = GFX_focus_generic_soviet_politics
		cost = 6.5

		prerequisite = {
			focus = RED_left_branch_1
		}
		x = 1
		y = 1
		relative_position_id = RED_left_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_war_support = 0.05
		    custom_effect_tooltip = future_update_tt
		}
	}

	focus = {
		id = RED_left_branch_3
		icon = GFX_equipment_medical
		cost = 6.5

		prerequisite = {
			focus = RED_left_branch_2b
		}
		prerequisite = {
			focus = RED_left_branch_2a
		}
		x = 0
		y = 2
		relative_position_id = RED_left_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_tech_bonus = {
				name = clothing
				bonus = 0.5
				uses = 1
				category = clothing_kits
			}
		    custom_effect_tooltip = future_update_tt
		}
	}

	focus = {
		id = RED_left_branch_4
		icon = GFX_focus_generic_soviet_politics
		cost = 6.5

		prerequisite = {
			focus = RED_left_branch_3
		}
		x = 0
		y = 1
		relative_position_id = RED_left_branch_3

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_stability = 0.1
		    custom_effect_tooltip = future_update_tt
		}
	}

	focus = {
		id = RED_left_branch_5
		icon = GFX_focus_generic_soviet_politics
		cost = 6.5

		prerequisite = {
			focus = RED_left_branch_4
		}
		x = 0
		y = 1
		relative_position_id = RED_left_branch_4

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_war_support = 0.1
		    custom_effect_tooltip = future_update_tt
		}
	}

	focus = {
		id = RED_right_branch_1
		icon = GFX_focus_ger_great_red_menace
		cost = 6.5

		prerequisite = {
			focus = RED_revolution_triumphant
		}
		x = -5
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    # Unlock a decision to build infrastructure in 'TUNNEL' states#
			custom_effect_tooltip = RED_build_tunnel_tt
		}
	}

	focus = {
		id = RED_right_branch_2a
		icon = GFX_metro_infrastructure
		cost = 6.5

		prerequisite = {
			focus = RED_right_branch_1
		}
		x = -1
		y = 1
		relative_position_id = RED_right_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
		}
	}

	focus = {
		id = RED_right_branch_2b
		icon = GFX_metro_infrastructure
		cost = 6.5

		prerequisite = {
			focus = RED_right_branch_1
		}
		x = 1
		y = 1
		relative_position_id = RED_right_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
			random_owned_controlled_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
				}
			}
		}
	}

	focus = {
		id = RED_right_branch_3
		icon = GFX_metro_industry
		cost = 6.5

		prerequisite = {
			focus = RED_right_branch_2a
		}
		prerequisite = {
			focus = RED_right_branch_2b
		}
		x = 0
		y = 2
		relative_position_id = RED_right_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    # Unlock Decision to construct Infastructure on states
		    add_political_power = 135

			custom_effect_tooltip = RED_station_infrastructure_tt
		}
	}

	focus = {
		id = RED_right_branch_4
		icon = GFX_workstation
		cost = 6.5

		prerequisite = {
			focus = RED_right_branch_3
		}
		x = 0
		y = 1
		relative_position_id = RED_right_branch_3

		ai_will_do = {
			factor = 3
		}

		completion_reward = {

			custom_effect_tooltip = RED_station_civilian_tt

			random_owned_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_right_branch_5
		icon = GFX_workstation_2
		cost = 6.5

		prerequisite = {
			focus = RED_right_branch_4
		}
		x = 0
		y = 1
		relative_position_id = RED_right_branch_4

		ai_will_do = {
			factor = 3
		}

		completion_reward = {

			custom_effect_tooltip = RED_station_military_tt

			random_owned_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_central_branch_1
		icon = GFX_goal_generic_production
		cost = 6.5

		prerequisite = {
			focus = RED_revolution_triumphant
		}
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 3
				category = industry
			}
		}
	}

	focus = {
		id = RED_central_branch_2
		icon = GFX_focus_fra_loyalty_stalin
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_1
		}
		x = 0
		y = 1
		relative_position_id = RED_central_branch_1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    # reduce the 'hansa-war-losers' modifier somewhat
		    remove_ideas = hanza_red_war_loser
                    add_ideas = hanza_red_war_loser_2
		}
	}

	focus = {
		id = RED_central_branch_3a
		icon = GFX_focus_generic_industry_2
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_2
		}
		prerequisite = {
			focus = RED_right_branch_2b
		}
		x = -2
		y = 1
		relative_position_id = RED_central_branch_2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_central_branch_3b
		icon = GFX_focus_generic_industry_2
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_2
		}
		prerequisite = {
			focus = RED_left_branch_2a
		}
		x = 2
		y = 1
		relative_position_id = RED_central_branch_2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_state = {
				limit = {
					NOT = {
					    has_state_category = pastoral
					}
				}
			    add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_central_branch_3c
		icon = GFX_focus_generic_socialist_science
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_2
		}
		x = 0
		y = 1
		relative_position_id = RED_central_branch_2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_research_slot = 1
		}
	}

	focus = {
		id = RED_central_branch_4a
		icon = GFX_scrap
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_3a
		}
		prerequisite = {
			focus = RED_central_branch_3b
		}
		x = -1
		y = 2
		relative_position_id = RED_central_branch_2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
		    limit = {
			    NOT = {
			        has_state_category = pastoral
				}
		    }
			    add_resource = {
			        type = scrap
			        amount = 18
			    }
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
		        }
			}
		}
	}
	focus = {
		id = RED_central_branch_5a
		icon = GFX_Fuel
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_4a
		}
		x = 0
		y = 1
		relative_position_id = RED_central_branch_4a

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
		    limit = {
			    NOT = {
			        has_state_category = pastoral
				}
		    }
			    add_resource = {
			        type = electronics
			        amount = 18
			    }
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_central_branch_4b
		icon = GFX_electronics
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_3a
		}
		prerequisite = {
			focus = RED_central_branch_3b
		}
		x = 1
		y = 2
		relative_position_id = RED_central_branch_2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
		    limit = {
			    NOT = {
			        has_state_category = pastoral
				}
		    }
			    add_resource = {
			        type = components
			        amount = 18
			    }
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_central_branch_5b
		icon = GFX_battery
		cost = 6.5

		prerequisite = {
			focus = RED_central_branch_4b
		}
		x = 0
		y = 1
		relative_position_id = RED_central_branch_4b

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
		    limit = {
			    NOT = {
			        has_state_category = pastoral
				}
		    }
			    add_resource = {
			        type = alloys
			        amount = 18
			    }
			    add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
		        }
			}
		}
	}

	focus = {
		id = RED_expansion
		icon = GFX_station_entrance
		cost = 6.5

		prerequisite = {
			focus = RED_revolution_triumphant
		}
		x = 7
		y = 1

		ai_will_do = {
			factor = 3
		}
		available = {
			338 = {
                is_owned_by = RUI
			}
		}
		bypass = {
		    NOT = {
			    338 = {
                    is_owned_by = RUI
			    }
			}
	    }
		completion_reward = {
		    transfer_state = 338
		    338 = { add_core_of = ROOT }
		}
	}
}