select_scavenging_reward_equipment = {
	hidden_effect = {
		random_list = {
			### Guns ###
			4 = {###REVOLVERS###
				set_country_flag = scav_reward_eq_scrap_gun_basic
			}
			3 = {###AKS-74U###
				set_country_flag = scav_reward_eq_gun_conventional_1
			}
			3 = {###VSK-94###
				modifier = {
					factor = 0.2
				}
				set_country_flag = scav_reward_eq_gun_conventional_2
			}
			3 = {###Kalash 2012###
				modifier = {
					factor = 0.2
				}
				set_country_flag = scav_reward_eq_gun_conventional_3
			}
			3 = {###SPECIAL-1 PIECE OF HELLBREATH###
				modifier = {
					factor = 0.01
				}
				set_country_flag = scav_reward_eq_gun_laser_1
			}
			## Unique Tech ##
			1 = {###Saiga###
				modifier = {
					factor = 0.1
				}
				set_country_flag = scav_reward_eq_gun_shotgun_3
			}
			1 = {###Abzats### 
				modifier = {
					factor = 0.1
				}
				set_country_flag = scav_reward_eq_gun_shotgun_4
			}
			1 = {###RPK###
				modifier = {
					factor = 0.1
				}
				set_country_flag = scav_reward_eq_gun_conventional_4
			}
			## Timed Ideas ##
			2 = {
				modifier = {
					factor = -1
					has_idea = scavenging_eq_gun_production_buff
				}
				set_country_flag = scav_reward_eq_gun_production_buff
			}
			2 = {
				modifier = {
					factor = -1
					has_idea = scavenging_eq_gun_stat_buff
				}
				set_country_flag = scav_reward_eq_gun_stat_buff
			}
			### Spec Ops ###
			2  = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				set_country_flag = scav_reward_eq_spec_ops_1
			}
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				set_country_flag = scav_reward_eq_spec_ops_2
			}
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				set_country_flag = scav_reward_eq_spec_ops_3
			}
			## Unique Tech ## 
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				modifier = {
					add = 1
					has_tech = special_forces_spetsnaz_equipment_tech
				}
				set_country_flag = scav_reward_eq_spec_ops_spetsnaz
			}
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				modifier = {
					add = 1
					has_tech = special_forces_riot_equipment_tech
				}
				set_country_flag = scav_reward_eq_spec_ops_riot
			}
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				modifier = {
					add = 1
					has_tech = special_forces_spartan_equipment_tech 
				}
				set_country_flag = scav_reward_eq_spec_ops_spartan
			}
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				modifier = {
					add = 1
					has_tech = special_forces_heavy_equipment_tech
				}
				set_country_flag = scav_reward_eq_spec_ops_heavy
			}
			## Unique Ideas ##
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				set_country_flag = scav_reward_eq_spec_ops_production_buff
			}
			1 = { 
				modifier = {
					factor = 0
					NOT = {
						has_tech = spec_ops_equipment_1_tech
					}
				}
				set_country_flag = scav_reward_eq_spec_ops_stat_buff
			}
			## Support Eq
			2 = {
				set_country_flag = scav_reward_eq_tech_support
			}
			## Flamethrower Eq
			3 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_flamethrower_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_basic_flamethrower_equipment
				}
				set_country_flag = scav_reward_eq_basic_flamethrower
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_flamethrower_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_flamethrower_equipment_1
				}
				set_country_flag = scav_reward_eq_flamethrower_1
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_flamethrower_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_flamethrower_equipment_2
				}
				set_country_flag = scav_reward_eq_flamethrower_2
			}
			2 = {
				modifier = {
					factor = 0
					NOT = {
						has_tech = tech_basic_flamethrower_equipment
					}
				}
				set_country_flag = scav_reward_eq_flamethrower_production_buff
			}
			2 = {
				modifier = {
					factor = 0
					NOT = {
						has_tech = tech_basic_flamethrower_equipment
					}
				}
				set_country_flag = scav_reward_eq_flamethrower_stat_buff
			}
			## Gatling Eq
			3 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_gatling_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_basic_gatling_equipment
				}
				set_country_flag = scav_reward_eq_basic_gatling
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_gatling_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_gatling_equipment_1
				}
				set_country_flag = scav_reward_eq_gatling_1
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_gatling_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_gatling_equipment_2
				}
				set_country_flag = scav_reward_eq_gatling_2
			}
			2 = {
				modifier = {
					factor = 0
					NOT = {
						has_tech = tech_basic_gatling_equipment
					}
				}
				set_country_flag = scav_reward_eq_gatling_production_buff
			}
			2 = {
				modifier = {
					factor = 0
					NOT = {
						has_tech = tech_basic_gatling_equipment
					}
				}
				set_country_flag = scav_reward_eq_gatling_stat_buff
			}
			## Flamethrower Eq
			3 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_explosive_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_basic_explosive_equipment
				}
				set_country_flag = scav_reward_eq_basic_explosive
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_explosive_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_explosive_equipment_1
				}
				set_country_flag = scav_reward_eq_explosive_1
			}
			2 = {
				modifier = {
					factor = 0
					NOT = { has_tech = tech_basic_explosive_equipment }
				}
				modifier = {
					add = 1
					has_tech  = tech_explosive_equipment_2
				}
				set_country_flag = scav_reward_eq_explosive_2
			}
			2 = {
				modifier = {
					factor = 0
					NOT = {
						has_tech = tech_basic_explosive_equipment
					}
				}
				set_country_flag = scav_reward_eq_explosive_production_buff
			}
			2 = {
				modifier = {
					factor = 0
					NOT = {
						has_tech = tech_basic_explosive_equipment
					}
				}
				set_country_flag = scav_reward_eq_explosive_stat_buff
			}
		}
	}
}
give_scavenge_reward_equipment = {
###REVOLVERS###
	if = {
		limit = { has_country_flag = scav_reward_eq_scrap_gun_basic }

		add_equipment_to_stockpile = {
			type = basic_infantry_equipment
			amount = 30
			producer = RUS
		}

		clr_country_flag = scav_reward_eq_scrap_gun_basic
		log = "basic_infantry_equipment granted"
	}
###AKS-74U###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_conventional_1 }

		add_equipment_to_stockpile = {
			type = conventional_infantry_equipment_1
			amount = 15
			producer = RUS
		}

		clr_country_flag = scav_reward_eq_gun_conventional_1
		log = "conventional_infantry_equipment_1 granted"
	}
###VSK-94###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_conventional_2 }

		add_equipment_to_stockpile = {
			type = conventional_infantry_equipment_2
			amount = 15
			producer = RUS
		}

		clr_country_flag = scav_reward_eq_gun_conventional_2
		log = "conventional_infantry_equipment_2 granted"
	}
###Kalash 2012###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_conventional_3 }

		add_equipment_to_stockpile = {
			type = conventional_infantry_equipment_3
			amount = 15
			producer = RUS
		}

		clr_country_flag = scav_reward_eq_gun_conventional_3
		log = "conventional_infantry_equipment_3 granted"
	}
###SPECIAL-1 PIECE OF HELLBREATH###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_laser_1 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = laser_infantry_equipment_1 
				amount = 1
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_gun_laser_1
		log = "scav_reward_eq_gun_laser_1 granted"
	}
###SPECIAL-SAIGA###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_shotgun_3 }

		ROOT= {
			add_equipment_to_stockpile = {
				type = shotgun_infantry_equipment_3 
				amount = 15
				producer = RUS
			}
			if = {
				limit = {
					has_country_flag = unlocked_saiga
				}
			}
			else= {
				set_country_flag = unlocked_saiga
			}
		}

		clr_country_flag = scav_reward_eq_gun_shotgun_3
		log = "shotgun_infantry_equipment_3 granted"
	}
###SPECIAL-ABZATS###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_shotgun_4 }

		ROOT= {
			add_equipment_to_stockpile = {
				type = shotgun_infantry_equipment_4 
				amount = 15
				producer = RUS
			}
			if = {
				limit = {
					has_country_flag = unlocked_abzats
				}
			}
			else= {
				set_country_flag = unlocked_abzats
			}
		}

		clr_country_flag =  scav_reward_eq_gun_shotgun_4
		log = "shotgun_infantry_equipment_4  granted"
	}
###SPECIAL-RPK###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_conventional_4 }

		ROOT = {
			add_equipment_to_stockpile = {
			type = conventional_infantry_equipment_4 
				amount = 15
				producer = RUS
			}
			if = {
				limit = {
					has_country_flag = unlocked_rpk
				}
			}
			else= {
				set_country_flag = unlocked_rpk
			}
		}

		clr_country_flag = scav_reward_eq_gun_conventional_4
		log = "conventional_infantry_equipment_4  granted"
	}
###TIMED REWARDS###
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_production_buff }

		add_timed_idea = {
			idea = scavenging_eq_gun_production_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_gun_production_buff
		log = "scavenging_eq_gun_production_buff granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_gun_stat_buff }

		set_temp_variable = { bullet_to_gain = 50 }
		add_bullet_with_tooltip_effect = yes
		add_timed_idea = {
			idea = scavenging_eq_gun_stat_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_gun_stat_buff
		log = "scavenging_eq_gun_stat_buff  granted"
	}
	## Spec Ops Rewards ##
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_1  }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_1
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_1 
		log = "scav_reward_eq_spec_ops_1  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_2  }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_2
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_2
		log = "scav_reward_eq_spec_ops_2  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_3  }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_3
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_3
		log = "scav_reward_eq_spec_ops_3  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_spetsnaz  }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_spetsnaz
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_spetsnaz
		log = "scav_reward_eq_spec_ops_spetsnaz  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_riot  }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_riot
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_riot
		log = "scav_reward_eq_spec_ops_riot  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_spartan }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_spartan
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_spartan
		log = "scav_reward_eq_spec_ops_spartan  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_heavy }

		ROOT = {
			add_equipment_to_stockpile = {
			type = special_forces_equipment_heavy 
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_spec_ops_heavy
		log = "scav_reward_eq_spec_ops_heavy  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_stat_buff }

		add_timed_idea = {
			idea = scav_reward_eq_spec_ops_stat_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_spec_ops_stat_buff
		log = "scav_reward_eq_spec_ops_stat_buff  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_spec_ops_production_buff }

		add_timed_idea = {
			idea = scav_reward_eq_spec_ops_production_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_spec_ops_production_buff
		log = "scav_reward_eq_spec_ops_production_buff  granted"
	}
	### Support ### 
	if = {
		limit = { has_country_flag = scav_reward_eq_tech_support }

		ROOT = {
			add_equipment_to_stockpile = {
				type = support_equipment_1 
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_tech_support
		log = "scav_reward_eq_tech_support granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_basic_flamethrower }

		ROOT = {
			add_equipment_to_stockpile = {
				type = basic_flamethrower_equipment
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_basic_flamethrower
		log = "scav_reward_eq_basic_flamethrower granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_flamethrower_1 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = flamethrower_equipment_1
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_flamethrower_1
		log = "scav_reward_eq_flamethrower_1 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_flamethrower_2 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = flamethrower_equipment_2
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_flamethrower_2
		log = "scav_reward_eq_flamethrower_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_flamethrower_stat_buff }

		add_timed_idea = {
			idea = scav_reward_eq_flamethrower_stat_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_flamethrower_stat_buff
		log = "scav_reward_eq_flamethrower_stat_buff  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_flamethrower_production_buff }

		add_timed_idea = {
			idea = scav_reward_eq_flamethrower_production_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_flamethrower_production_buff
		log = "scav_reward_eq_flamethrower_production_buff  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_basic_gatling }

		ROOT = {
			add_equipment_to_stockpile = {
				type = basic_gatling_equipment
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_basic_gatling
		log = "scav_reward_eq_basic_gatling granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_gatling_1 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = gatling_equipment_1
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_gatling_1
		log = "scav_reward_eq_gatling_1 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_gatling_2 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = gatling_equipment_2
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_gatling_2
		log = "scav_reward_eq_gatling_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_gatling_stat_buff }

		add_timed_idea = {
			idea = scav_reward_eq_gatling_stat_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_gatling_stat_buff
		log = "scav_reward_eq_gatling_stat_buff  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_gatling_production_buff }

		add_timed_idea = {
			idea = scav_reward_eq_gatling_production_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_gatling_production_buff
		log = "scav_reward_eq_gatling_production_buff  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_basic_explosive }

		ROOT = {
			add_equipment_to_stockpile = {
				type = basic_explosive_equipment
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_basic_explosive
		log = "scav_reward_eq_basic_explosive granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_explosive_1 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = explosive_equipment_1
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_explosive_1
		log = "scav_reward_eq_explosive_1 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_explosive_2 }

		ROOT = {
			add_equipment_to_stockpile = {
				type = explosive_equipment_2
				amount = 15
				producer = RUS
			}
		}

		clr_country_flag = scav_reward_eq_explosive_2
		log = "scav_reward_eq_explosive_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_explosive_stat_buff }

		add_timed_idea = {
			idea = scav_reward_eq_explosive_stat_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_explosive_stat_buff
		log = "scav_reward_eq_explosive_stat_buff  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_eq_explosive_production_buff }

		add_timed_idea = {
			idea = scav_reward_eq_explosive_production_buff
			days = 180
		}

		clr_country_flag = scav_reward_eq_explosive_production_buff
		log = "scav_reward_eq_explosive_production_buff  granted"
	}
}
select_scavenging_reward_resource = {
	hidden_effect = {
		random_list = {
			## Scrap ##
			4 = {
				modifier = {
					factor = 1
					scrap < 5
				}
				set_country_flag = scav_reward_resource_scrap_2
			}
			3 = {
				modifier = {
					factor = 1
					scrap < 4
				}
				set_country_flag = scav_reward_resource_scrap_3
			}
			2 = {
				modifier = {
					factor = 1
					scrap < 3
				}
				set_country_flag = scav_reward_resource_scrap_4
			}
			3 = {
				modifier = {
					factor = 1
					scrap < 8
				}
				set_country_flag = scav_reward_resource_scrap_timed_idea
			}
			## Alloys ##
			4 = {
				modifier = {
					factor = 1
					alloys < 4
				}
				set_country_flag = scav_reward_resource_alloys_2
			}
			3 = {
				modifier = {
					factor = 1
					alloys < 4
				}
				set_country_flag = scav_reward_resource_alloys_3
			}
			2 = {
				modifier = {
					factor = 1
					alloys < 4
				}
				set_country_flag = scav_reward_resource_alloys_4
			}
			4 = {
				modifier = {
					factor = 1
					alloys < 4
				}
				set_country_flag = scav_reward_resource_alloys_timed_idea
			}
			## Electronics ##
			4 = {
				modifier = {
					factor = 1
					alloys < 4
				}
				set_country_flag = scav_reward_resource_alloys_2
			}
			3 = {
				modifier = {
					factor = 1
					electronics < 4
				}
				set_country_flag = scav_reward_resource_electronics_3
			}
			2 = {
				modifier = {
					factor = 1
					electronics < 4
				}
				set_country_flag = scav_reward_resource_electronics_4
			}
			3 = {
				modifier = {
					factor = 1
					electronics < 4
				}
				set_country_flag = scav_reward_resource_electronics_timed_idea
			}
			## Components ##
			4 = {
				modifier = {
					factor = 1
					components < 4
				}
				set_country_flag = scav_reward_resource_components_2
			}
			3 = {
				modifier = {
					factor = 1
					components < 4
				}
				set_country_flag = scav_reward_resource_components_3
			}
			2 = {
				modifier = {
					factor = 1
					components < 4
				}
				set_country_flag = scav_reward_resource_components_4
			}
			3 = {
				modifier = {
					factor = 1
					components < 4
				}
				set_country_flag = scav_reward_resource_components_timed_idea
			}
			## Chemicals ##
			2 = {
				modifier = {
					factor = 1
					chemicals < 3
				}
				set_country_flag = scav_reward_resource_chemicals_1
			}
			1 = {
				modifier = {
					factor = 1
					chemicals < 3
				}
				set_country_flag = scav_reward_resource_chemicals_2
			}
			1 = {
				modifier = {
					factor = 1
					chemicals < 2
				}
				set_country_flag = scav_reward_resource_chemicals_timed_idea
			}
		}
	}
}
give_scavenge_reward_resource = {
	if = {
		limit = { has_country_flag = scav_reward_resource_scrap_2 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = scrap
				amount = 2
			}
		}

		clr_country_flag = scav_reward_resource_scrap_2
		log = "scav_reward_resource_scrap_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_scrap_3 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = scrap
				amount = 3
			}
		}

		clr_country_flag = scav_reward_resource_scrap_3
		log = "scav_reward_resource_scrap_3 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_scrap_4 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = scrap
				amount = 4
			}
		}

		clr_country_flag = scav_reward_resource_scrap_4
		log = "scav_reward_resource_scrap_4 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_scrap_timed_idea }

		add_timed_idea = {
			idea = scav_reward_resource_scrap_timed_idea
			days = 180
		}

		clr_country_flag = scav_reward_resource_scrap_timed_idea
		log = "scav_reward_resource_scrap_timed_idea  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_alloys_2 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = alloys
				amount = 2
			}
		}

		clr_country_flag = scav_reward_resource_alloys_2
		log = "scav_reward_resource_alloys_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_alloys_3 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = alloys
				amount = 3
			}
		}

		clr_country_flag = scav_reward_resource_alloys_3
		log = "scav_reward_resource_alloys_3 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_alloys_4 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = alloys
				amount = 4
			}
		}

		clr_country_flag = scav_reward_resource_alloys_4 
		log = "scav_reward_resource_alloys_4 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_alloys_timed_idea }

		add_timed_idea = {
			idea = scav_reward_resource_alloys_timed_idea
			days = 180
		}

		clr_country_flag = scav_reward_resource_alloys_timed_idea
		log = "scav_reward_resource_alloys_timed_idea granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_electronics_2 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = electronics
				amount = 2
			}
		}

		clr_country_flag = scav_reward_resource_electronics_2
		log = "scav_reward_resource_electronics_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_electronics_3 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = electronics
				amount = 3
			}
		}

		clr_country_flag = scav_reward_resource_electronics_3
		log = "scav_reward_resource_electronics_3 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_electronics_4 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = electronics
				amount = 4
			}
		}

		clr_country_flag = scav_reward_resource_electronics_4
		log = "scav_reward_resource_electronics_4 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_electronics_timed_idea }

		add_timed_idea = {
			idea = scav_reward_resource_electronics_timed_idea
			days = 180
		}

		clr_country_flag = scav_reward_resource_electronics_timed_idea
		log = "scav_reward_resource_electronics_timed_idea granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_components_2 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = components
				amount = 2
			}
		}

		clr_country_flag = scav_reward_resource_components_2
		log = "scav_reward_resource_components_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_components_3 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = components
				amount = 3
			}
		}

		clr_country_flag = scav_reward_resource_components_3
		log = "scav_reward_resource_components_3 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_components_4 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = components
				amount = 4
			}
		}
		clr_country_flag = scav_reward_resource_components_4
		log = "scav_reward_resource_components_4 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_components_timed_idea }

		add_timed_idea = {
			idea = scav_reward_resource_components_timed_idea
			days = 180
		}

		if = {
			limit = { is_debug = yes } 
			custom_effect_tooltip = scav_reward_resource_components_timed_idea
		}

		clr_country_flag = scav_reward_resource_components_timed_idea
		log = "scav_reward_resource_components_timed_idea  granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_chemicals_1 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = chemicals
				amount = 1
			}
		}

		if = {
			limit = { is_debug = yes } 
			custom_effect_tooltip = scav_reward_resource_chemicals_1
		}

		clr_country_flag = scav_reward_resource_chemicals_1
		log = "scav_reward_resource_chemicals_1 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_chemicals_2 }

		random_owned_controlled_state = {
			limit = {
				is_in_home_area = yes
				NOT = {
					has_state_category = pastoral
				}
			}
			add_resource = {
				type = chemicals
				amount = 2
			}
		}

		if = {
			limit = { is_debug = yes } 
			custom_effect_tooltip = scav_reward_resource_chemicals_2
		}

		clr_country_flag = scav_reward_resource_chemicals_2
		log = "scav_reward_resource_chemicals_2 granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_resource_chemicals_timed_idea }

		add_timed_idea = {
			idea = scav_reward_resource_chemicals_timed_idea
			days = 180
		}

		if = {
			limit = { is_debug = yes }
			custom_effect_tooltip = scav_reward_resource_chemicals_timed_idea
		}

		clr_country_flag = scav_reward_resource_chemicals_timed_idea
		log = "scav_reward_resource_chemicals_timed_idea  granted"
	}
}
select_scavenging_reward_technology = {
	hidden_effect = {
		random_list = {
			3 = { set_country_flag = scav_reward_tech_tooling_20 }
			2 = { set_country_flag = scav_reward_tech_tooling_40 }
			3 = { set_country_flag = scav_reward_tech_construction_20 }
			2 = { set_country_flag = scav_reward_tech_construction_40 }
			3 = { set_country_flag = scav_reward_tech_casting_20 }
			2 = { set_country_flag = scav_reward_tech_casting_40 }
			3 = { set_country_flag = scav_reward_tech_smithing_20 }
			2 = { set_country_flag = scav_reward_tech_smithing_40 }
			3 = { set_country_flag = scav_reward_tech_refinery_20 }
			2 = { set_country_flag = scav_reward_tech_refinery_40 }
			3 = { set_country_flag = scav_reward_tech_punch_pressing_20 }
			2 = { set_country_flag = scav_reward_tech_punch_pressing_40 }
			2 = { set_country_flag = scav_reward_tech_stalker_20 }
			2 = { set_country_flag = scav_reward_tech_stalker_40 }
			3 = { set_country_flag = scav_reward_tech_gas_mask_20 }
			2 = { set_country_flag = scav_reward_tech_gas_mask_40 }
			3 = { set_country_flag = scav_reward_tech_entrench_kits_20 }
			2 = { set_country_flag = scav_reward_tech_entrench_kits_40 }
			3 = { set_country_flag = scav_reward_tech_clothing_kits_20 }
			2 = { set_country_flag = scav_reward_tech_clothing_kits_40 }
			3 = { set_country_flag = scav_reward_tech_support_tech_20 }
			2 = { set_country_flag = scav_reward_tech_support_tech_40 }
			3 = { set_country_flag = scav_reward_tech_infantry_weapons_20 }
			2 = { set_country_flag = scav_reward_tech_infantry_weapons_40 }
			3 = { set_country_flag = scav_reward_tech_armor_20 }
			2 = { set_country_flag = scav_reward_tech_armor_40 }
			#### DOCTRINE ####
			3 = { set_country_flag = scav_reward_land_doctrine_15 }
			2 = { set_country_flag = scav_reward_land_doctrine_30 }
			#### TECH ####
			1 = { set_country_flag = scav_reward_tech_gas_mask_futuristic }
			1 = { set_country_flag = scav_reward_tech_gas_mask_scientific }
			1 = { set_country_flag = scav_reward_tech_gas_mask_military }
			1 = { set_country_flag = scav_reward_tech_future_toolkits }
			1 = { set_country_flag = scav_reward_tech_technician_toolkit }
			1 = { set_country_flag = scav_reward_tech_precision_tools }
			1 = { set_country_flag = scav_reward_tech_technician_pressing }
			1 = { set_country_flag = scav_reward_tech_technician_machining }
			1 = { set_country_flag = scav_reward_tech_refinery_3 }
			1 = { set_country_flag = scav_reward_tech_refinery_4 }
			1 = { set_country_flag = scav_reward_tech_refinery_5 }
		}
	}
}
give_scavenge_reward_technology = {
	if = {
		limit = { has_country_flag = scav_reward_tech_tooling_20 }

			add_tech_bonus = {
				name = scav_reward_tech_tooling_20
				bonus = 0.2
				uses = 1
				category = tooling
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_tooling_20
			}

		clr_country_flag = scav_reward_tech_tooling_20
		log = "set_country_flag = scav_reward_tech_tooling_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_tooling_40 }

			add_tech_bonus = {
				name = scav_reward_tech_tooling_40
				bonus = 0.4
				uses = 1
				category = tooling
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_tooling_40
			}

		clr_country_flag = scav_reward_tech_tooling_40
		log = "set_country_flag = scav_reward_tech_tooling_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_construction_20 }

			add_tech_bonus = {
				name = scav_reward_tech_construction_20
				bonus = 0.2
				uses = 1
				category = construction
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_construction_20
			}

		clr_country_flag = scav_reward_tech_construction_20
		log = "set_country_flag = scav_reward_tech_construction_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_construction_40 }

			add_tech_bonus = {
				name = scav_reward_tech_construction_40
				bonus = 0.4
				uses = 1
				category = construction
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_construction_40
			}

		clr_country_flag = scav_reward_tech_construction_40
		log = "set_country_flag = scav_reward_tech_construction_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_casting_20 }

			add_tech_bonus = {
				name = scav_reward_tech_casting_20
				bonus = 0.2
				uses = 1
				category = casting
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_casting_20
			}

		clr_country_flag = scav_reward_tech_casting_20
		log = "set_country_flag = scav_reward_tech_casting_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_casting_40 }

			add_tech_bonus = {
				name = scav_reward_tech_casting_40
				bonus = 0.4
				uses = 1
				category = casting
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_casting_40
			}

		clr_country_flag = scav_reward_tech_casting_40
		log = "set_country_flag = scav_reward_tech_casting_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_smithing_20 }

			add_tech_bonus = {
				name = scav_reward_tech_smithing_20
				bonus = 0.2
				uses = 1
				category = smithing
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_smithing_20
			}

		clr_country_flag = scav_reward_tech_smithing_20
		log = "set_country_flag = scav_reward_tech_smithing_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_smithing_40 }

			add_tech_bonus = {
				name = scav_reward_tech_smithing_40
				bonus = 0.4
				uses = 1
				category = smithing
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_smithing_40
			}

		clr_country_flag = scav_reward_tech_smithing_40
		log = "set_country_flag = scav_reward_tech_smithing_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_refinery_20 }

			add_tech_bonus = {
				name = scav_reward_tech_refinery_20
				bonus = 0.2
				uses = 1
				category = refinery
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_refinery_20
			}

		clr_country_flag = scav_reward_tech_refinery_20
		log = "set_country_flag = scav_reward_tech_refinery_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_refinery_40 }

			add_tech_bonus = {
				name = scav_reward_tech_refinery_40
				bonus = 0.4
				uses = 1
				category = refinery
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_refinery_40
			}

		clr_country_flag = scav_reward_tech_refinery_40
		log = "set_country_flag = scav_reward_tech_refinery_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_punch_pressing_20 }

			add_tech_bonus = {
				name = scav_reward_tech_punch_pressing_20
				bonus = 0.2
				uses = 1
				category = punch_pressing
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_punch_pressing_20
			}

		clr_country_flag = scav_reward_tech_punch_pressing_20
		log = "set_country_flag = scav_reward_tech_punch_pressing_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_punch_pressing_40 }

			add_tech_bonus = {
				name = scav_reward_tech_punch_pressing_40
				bonus = 0.4
				uses = 1
				category = punch_pressing
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_punch_pressing_40
			}

		clr_country_flag = scav_reward_tech_punch_pressing_40
		log = "set_country_flag = scav_reward_tech_punch_pressing_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_stalker_20 }

			add_tech_bonus = {
				name = scav_reward_tech_stalker_20
				bonus = 0.2
				uses = 1
				category = stalker
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_stalker_20
			}

		clr_country_flag = scav_reward_tech_stalker_20
		log = "set_country_flag = scav_reward_tech_stalker_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_stalker_40 }

			add_tech_bonus = {
				name = scav_reward_tech_stalker_40
				bonus = 0.4
				uses = 1
				category = stalker
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_stalker_40
			}

		clr_country_flag = scav_reward_tech_stalker_40
		log = "set_country_flag = scav_reward_tech_stalker_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_gas_mask_20 }

			add_tech_bonus = {
				name = scav_reward_tech_gas_mask_20
				bonus = 0.2
				uses = 1
				category = gas_mask
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_gas_mask_20
			}

		clr_country_flag = scav_reward_tech_gas_mask_20
		log = "set_country_flag = scav_reward_tech_gas_mask_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_gas_mask_40 }

			add_tech_bonus = {
				name = scav_reward_tech_gas_mask_40
				bonus = 0.4
				uses = 1
				category = gas_mask
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_gas_mask_40
			}

		clr_country_flag = scav_reward_tech_gas_mask_40
		log = "set_country_flag = scav_reward_tech_gas_mask_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_entrench_kits_20 }

			add_tech_bonus = {
				name = scav_reward_tech_entrench_kits_20
				bonus = 0.2
				uses = 1
				category = entrench_kits
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_entrench_kits_20
			}

		clr_country_flag = scav_reward_tech_entrench_kits_20
		log = "set_country_flag = scav_reward_tech_entrench_kits_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_entrench_kits_40 }

			add_tech_bonus = {
				name = scav_reward_tech_entrench_kits_40
				bonus = 0.4
				uses = 1
				category = entrench_kits
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_entrench_kits_40
			}

		clr_country_flag = scav_reward_tech_entrench_kits_40
		log = "set_country_flag = scav_reward_tech_entrench_kits_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_clothing_kits_20 }

			add_tech_bonus = {
				name = scav_reward_tech_clothing_kits_20
				bonus = 0.2
				uses = 1
				category = clothing_kits
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_clothing_kits_20
			}

		clr_country_flag = scav_reward_tech_clothing_kits_20
		log = "set_country_flag = scav_reward_tech_clothing_kits_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_clothing_kits_40 }

			add_tech_bonus = {
				name = scav_reward_tech_clothing_kits_40
				bonus = 0.4
				uses = 1
				category = clothing_kits
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_clothing_kits_40
			}

		clr_country_flag = scav_reward_tech_clothing_kits_40
		log = "set_country_flag = scav_reward_tech_clothing_kits_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_support_tech_20 }

			add_tech_bonus = {
				name = scav_reward_tech_support_tech_20
				bonus = 0.2
				uses = 1
				category = support_tech
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_support_tech_20
			}

		clr_country_flag = scav_reward_tech_support_tech_20
		log = "set_country_flag = scav_reward_tech_support_tech_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_support_tech_40 }

			add_tech_bonus = {
				name = scav_reward_tech_support_tech_40
				bonus = 0.4
				uses = 1
				category = support_tech
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_support_tech_40
			}

		clr_country_flag = scav_reward_tech_support_tech_40
		log = "set_country_flag = scav_reward_tech_support_tech_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_infantry_weapons_20 }

			add_tech_bonus = {
				name = scav_reward_tech_infantry_weapons_20
				bonus = 0.2
				uses = 1
				category = infantry_weapons
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_infantry_weapons_20
			}

		clr_country_flag = scav_reward_tech_infantry_weapons_20
		log = "set_country_flag = scav_reward_tech_infantry_weapons_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_infantry_weapons_40 }

			add_tech_bonus = {
				name = scav_reward_tech_infantry_weapons_40
				bonus = 0.4
				uses = 1
				category = infantry_weapons
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_infantry_weapons_40
			}

		clr_country_flag = scav_reward_tech_infantry_weapons_40
		log = "set_country_flag = scav_reward_tech_infantry_weapons_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_armor_20 }

			add_tech_bonus = {
				name = scav_reward_tech_armor_20
				bonus = 0.2
				uses = 1
				category = armor
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_armor_20
			}

		clr_country_flag = scav_reward_tech_armor_20
		log = "set_country_flag = scav_reward_tech_armor_20_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_armor_40 }

			add_tech_bonus = {
				name = scav_reward_tech_armor_40
				bonus = 0.4
				uses = 1
				category = armor
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_armor_40
			}

		clr_country_flag = scav_reward_tech_armor_30
		log = "set_country_flag = scav_reward_tech_armor_40_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_land_doctrine_15 }

			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.25
				uses = 1
				category = land_doctrine
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_land_doctrine_15
			}

		clr_country_flag = scav_reward_land_doctrine_15
		log = "set_country_flag = scav_reward_land_doctrine_15_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_land_doctrine_30 }

			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.4
				uses = 1
				category = land_doctrine
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_land_doctrine_30
			}

		clr_country_flag = scav_reward_land_doctrine_30
		log = "set_country_flag = scav_reward_land_doctrine_30_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_gas_mask_futuristic  }

			set_technology = {
				gas_mask_futuristic = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_gas_mask_futuristic
			}

		clr_country_flag = scav_reward_tech_gas_mask_futuristic 
		log = "set_country_flag = scav_reward_tech_gas_mask_futuristic _granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_gas_mask_scientific  }

			set_technology = {
				gas_mask_scientific = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_gas_mask_scientific
			}

		clr_country_flag = scav_reward_tech_gas_mask_scientific 
		log = "set_country_flag = scav_reward_tech_gas_mask_scientific _granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_gas_mask_military  }

			set_technology = {
				gas_mask_military = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_gas_mask_military
			}

		clr_country_flag = scav_reward_tech_gas_mask_military 
		log = "set_country_flag = scav_reward_tech_gas_mask_military _granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_future_toolkits }

			set_technology = {
				tech_future_toolkits = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_future_toolkits
			}

		clr_country_flag = scav_reward_tech_future_toolkits
		log = "set_country_flag = scav_reward_tech_future_toolkits_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_technician_toolkit }

			set_technology = {
				tech_technician_toolkit= 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_technician_toolkit
			}

		clr_country_flag = scav_reward_tech_technician_toolkit
		log = "set_country_flag = scav_reward_tech_technician_toolkit_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_precision_tools }

			set_technology = {
				tech_precision_tools= 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_precision_tools
			}

		clr_country_flag = scav_reward_tech_precision_tools
		log = "set_country_flag = scav_reward_tech_precision_tools_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_tech_technician_pressing }

			set_technology = {
				tech_technician_pressing= 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_tech_technician_pressing
			}

		clr_country_flag = scav_reward_tech_technician_pressing
		log = "set_country_flag = scav_reward_tech_technician_pressing_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_technician_machining  }

			set_technology = {
				tech_technician_machining = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_technician_machining
			}

		clr_country_flag = scav_reward_technician_machining 
		log = "set_country_flag = scav_reward_technician_machining_granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_refinery_3  }

			set_technology = {
				tech_refinery_3 = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_refinery_3
			}

		clr_country_flag = scav_reward_refinery_3 
		log = "set_country_flag = scav_reward_refinery_3 _granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_refinery_4  }

			set_technology = {
				tech_refinery_4 = 1
			}

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_refinery_4
			}

		clr_country_flag = scav_reward_refinery_4 
		log = "set_country_flag = scav_reward_refinery_4 _granted"
	}
	if = {
		limit = { has_country_flag = scav_reward_refinery_5  }

			set_technology = { tech_refinery_5 = 1 }

			if = {
				limit = { is_debug = yes }
				custom_effect_tooltip = scav_reward_refinery_5
			}

		clr_country_flag = scav_reward_refinery_5 
		log = "set_country_flag = scav_reward_refinery_5 _granted"
	}
}

### FLUSHING country flags to prevent duplicate rewards ###

flush_scavenge_reward_resource = {
	clr_country_flag = scav_reward_resource_scrap_2
	clr_country_flag = scav_reward_resource_scrap_3
	clr_country_flag = scav_reward_resource_scrap_4
	clr_country_flag = scav_reward_resource_scrap_timed_idea
	clr_country_flag = scav_reward_resource_alloys_2
	clr_country_flag = scav_reward_resource_alloys_3
	clr_country_flag = scav_reward_resource_alloys_4
	clr_country_flag = scav_reward_resource_alloys_timed_idea
	clr_country_flag = scav_reward_resource_alloys_2
	clr_country_flag = scav_reward_resource_electronics_3
	clr_country_flag = scav_reward_resource_electronics_4
	clr_country_flag = scav_reward_resource_electronics_timed_idea
	clr_country_flag = scav_reward_resource_components_2
	clr_country_flag = scav_reward_resource_components_3
	clr_country_flag = scav_reward_resource_components_4
	clr_country_flag = scav_reward_resource_components_timed_idea
	clr_country_flag = scav_reward_resource_chemicals_1
	clr_country_flag = scav_reward_resource_chemicals_2
	clr_country_flag = scav_reward_resource_chemicals_timed_idea
	log = "flushed resource reward chances"
}

flush_scavenge_reward_technology = {
	clr_country_flag = scav_reward_tech_tooling_20
	clr_country_flag = scav_reward_tech_tooling_40
	clr_country_flag = scav_reward_tech_construction_20
	clr_country_flag = scav_reward_tech_construction_40
	clr_country_flag = scav_reward_tech_casting_20
	clr_country_flag = scav_reward_tech_casting_40
	clr_country_flag = scav_reward_tech_smithing_20
	clr_country_flag = scav_reward_tech_smithing_40
	clr_country_flag = scav_reward_tech_refinery_20
	clr_country_flag = scav_reward_tech_refinery_40
	clr_country_flag = scav_reward_tech_punch_pressing_20
	clr_country_flag = scav_reward_tech_punch_pressing_40
	clr_country_flag = scav_reward_tech_stalker_20
	clr_country_flag = scav_reward_tech_stalker_40
	clr_country_flag = scav_reward_tech_gas_mask_20
	clr_country_flag = scav_reward_tech_gas_mask_40
	clr_country_flag = scav_reward_tech_entrench_kits_20
	clr_country_flag = scav_reward_tech_entrench_kits_40
	clr_country_flag = scav_reward_tech_clothing_kits_20
	clr_country_flag = scav_reward_tech_clothing_kits_40
	clr_country_flag = scav_reward_tech_support_tech_20
	clr_country_flag = scav_reward_tech_support_tech_40
	clr_country_flag = scav_reward_tech_infantry_weapons_20
	clr_country_flag = scav_reward_tech_infantry_weapons_40
	clr_country_flag = scav_reward_tech_armor_20
	clr_country_flag = scav_reward_tech_armor_30
	clr_country_flag = scav_reward_land_doctrine_15
	clr_country_flag = scav_reward_land_doctrine_30
	clr_country_flag = scav_reward_tech_gas_mask_futuristic 
	clr_country_flag = scav_reward_tech_gas_mask_scientific
	clr_country_flag = scav_reward_tech_gas_mask_military 
	clr_country_flag = scav_reward_tech_future_toolkits
	clr_country_flag = scav_reward_tech_technician_toolkit
	clr_country_flag = scav_reward_tech_precision_tools
	clr_country_flag = scav_reward_tech_technician_pressing
	clr_country_flag = scav_reward_tech_technician_machining 
	clr_country_flag = scav_reward_tech_refinery_3
	clr_country_flag = scav_reward_tech_refinery_4
	clr_country_flag = scav_reward_tech_refinery_5
	log = "flushed tech reward chances"
}

flush_scavenge_reward_equipment = {
	clr_country_flag = scav_reward_eq_scrap_gun_basic
	clr_country_flag = scav_reward_eq_gun_conventional_1
	clr_country_flag = scav_reward_eq_gun_conventional_3
	clr_country_flag = scav_reward_eq_gun_conventional_3
	clr_country_flag = scav_reward_eq_gun_laser_1
	clr_country_flag = scav_reward_eq_gun_shotgun_3
	clr_country_flag = scav_reward_eq_gun_shotgun_4
	clr_country_flag = scav_reward_eq_gun_conventional_4
	clr_country_flag = scav_reward_eq_gun_production_buff
	clr_country_flag = scav_reward_eq_gun_stat_buff
	clr_country_flag = scav_reward_eq_spec_ops_1
	clr_country_flag = scav_reward_eq_spec_ops_2
	clr_country_flag = scav_reward_eq_spec_ops_3
	clr_country_flag = scav_reward_eq_spec_ops_spetsnaz
	clr_country_flag = scav_reward_eq_spec_ops_riot
	clr_country_flag = scav_reward_eq_spec_ops_spartan
	clr_country_flag = scav_reward_eq_spec_ops_heavy
	clr_country_flag = scav_reward_eq_spec_ops_production_buff
	clr_country_flag = scav_reward_eq_spec_ops_stat_buff
	clr_country_flag = scav_reward_eq_tech_support

	clr_country_flag = scav_reward_eq_basic_flamethrower
	clr_country_flag = scav_reward_eq_flamethrower_2
	clr_country_flag = scav_reward_eq_flamethrower_1
	clr_country_flag = scav_reward_eq_flamethrower_buff
	clr_country_flag = scav_reward_eq_flamethrower_stat_buff

	clr_country_flag = scav_reward_eq_basic_gatling
	clr_country_flag = scav_reward_eq_gatling_1
	clr_country_flag = scav_reward_eq_gatling_2
	clr_country_flag = scav_reward_eq_gatling_production_buff
	clr_country_flag = scav_reward_eq_gatling_stat_buff

	clr_country_flag = scav_reward_eq_basic_explosive
	clr_country_flag = scav_reward_eq_explosive_1
	clr_country_flag = scav_reward_eq_explosive_2
	clr_country_flag = scav_reward_eq_explosive_production_buff
	clr_country_flag = scav_reward_eq_explosive_stat_buff

log = "flushed equipment reward chances"
}



scavenge_initialize_scripted_variables_effect = {
	if = {
		limit = {
			NOT = { has_country_flag = has_initialized_scavenge_variables }
		}
		## Initialize vars here
		# Scavenge_success/failure
		set_variable = { scavenge_success_chance_var = 0 }
		set_variable = { scavenge_failure_chance_var = 0 }
		# Scavenge_colossal_failure
		set_variable = { scavenge_colossal_failure_chance_var = 0 }
		# Scavenge_POI_found
		set_variable = { scavenge_poi_chance_var = 0 }
		# Scavenge_horror
		set_variable = { scavenge_horror_chance_var = 0 }

		## Tooltip display loc
		set_variable = { scavenge_success_chance_display_var = 0 }
		set_variable = { scavenge_fail_chance_display_var = 0 }
		set_variable = { scavenge_poi_chance_display_var = 0 }

		## Set vars here
		# Scavenge_success/failure
		set_variable = { scavenge_success_chance_var = 20 }
		set_variable = { scavenge_failure_chance_var = 15 }
		# Scavenge_colossal_failure
		set_variable = { scavenge_colossal_failure_chance_var = 5 }
		# Scavenge_POI_found
		set_variable = { scavenge_poi_chance_var = 5 }
		# Scavenge_horror
		set_variable = { scavenge_horror_chance_var = 5 }

		scavenge_update_display_var_tooltips = yes

		set_country_flag = has_initialized_scavenge_variables
	}
}

scavenge_update_display_var_tooltips = {
	## Tooltip display loc
	## Scavenge Success
	add_to_variable = { scavenge_success_chance_display_var = scavenge_success_chance_var }

	add_to_variable = { scavenge_fail_chance_display_var = scavenge_failure_chance_var }
	add_to_variable = { scavenge_fail_chance_display_var = scavenge_colossal_failure_chance_var }
	add_to_variable = { scavenge_fail_chance_display_var = scavenge_horror_chance_var }

	add_to_variable = { scavenge_poi_chance_display_var = scavenge_poi_chance_var }
}

scavenge_update_modifiers = {
	if = {
		limit = {
			NOT = { has_country_flag = has_initialized_scavenge_variables }
		}
		## Initialize vars here
		# Scavenge_success/failure
		add_to_variable = { scavenge_success_chance_var = scavenge_add_success_chance_var }
		add_to_variable = { scavenge_failure_chance_var = scavenge_add_failure_chance_var }
		# Scavenge_colossal_failure
		add_to_variable = { scavenge_colossal_failure_chance_var = scavenge_add_colossal_failure_chance_var }
		# Scavenge_POI_found
		add_to_variable = { scavenge_poi_chance_var = scavenge_add_poi_chance_var }
		# Scavenge_horror
		add_to_variable = { scavenge_horror_chance_var = scavenge_add_horror_chance_var }

		scavenge_update_display_var_tooltips = yes

	}
}

scavenge_roll_outcome = {
	random_list = {
		scavenge_success_chance_var = {
			custom_effect_tooltip = scavenge_success_tt

			country_event = scavenge_mission_success.1

			modifier = {
				factor = 0.8
				original_tag = HUL
				NOT = { has_country_flag = fought_aviators }
			}
		}
		scavenge_failure_chance_var = {
			custom_effect_tooltip = scavenge_failure_tt
			
			#country_event = scavenge_mission_failure.1
			custom_effect_tooltip = scavenge_failure_no_reward_tt
			modifier = {
            	factor = 1.3
				has_country_flag = scavenge_failure_chance_increase_flag
       		}
		}
		scavenge_colossal_failure_chance_var = {
			custom_effect_tooltip = scavenge_colossal_failure_tt
			
			country_event = scavenge_mission_colossal_failure.1
		}
		scavenge_horror_chance_var = {
			custom_effect_tooltip = scavenge_horror_tt
			
			country_event = scavenge_mission_horror.1
		}
		scavenge_poi_chance_var = {
			custom_effect_tooltip = scavenge_poi_tt
			
			country_event = scavenge_mission_poi.1
		}
	}
}

scavenge_roll_reward_success = {} 

scavenge_roll_poi_location = {
	random_list = {
		## Common
		10 = { 
			set_country_flag = scavenge_poi_common_unmarked_building
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_common_unmarked_building
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_common_unmarked_building }
		}
		10 = { 
			set_country_flag = scavenge_poi_common_construction_yard 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_common_construction_yard
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_common_construction_yard }
		}
		10 = { 
			set_country_flag = scavenge_poi_common_warehouse 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_common_warehouse
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_common_warehouse }
		}
		10 = { 
			set_country_flag = scavenge_poi_common_police_station 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_common_police_station
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_common_police_station }
		}
		10 = { 
			set_country_flag = scavenge_poi_common_hospital 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_common_hospital
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_common_hospital }
		}
		10 = { 
			set_country_flag = scavenge_poi_common_hardware_store 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_common_hardware_store
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_common_hardware_store }
		}
		## Uncommon
		5 = { 
			set_country_flag = scavenge_poi_uncommon_church 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_uncommon_church
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_uncommon_church }
		}
		5 = { 
			set_country_flag = scavenge_poi_uncommon_parkinglot 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_uncommon_parkinglot
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_uncommon_parkinglot }
		}
		5 = { 
			set_country_flag = scavenge_poi_uncommon_parkinglot_inhabited 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_uncommon_parkinglot_inhabited
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_uncommon_parkinglot_inhabited }
		}
		5 = { 
			set_country_flag = scavenge_poi_uncommon_research_institute 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_uncommon_research_institute
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_uncommon_research_institute }
		}
		## Rare
		2.5 = { 
			set_country_flag = scavenge_poi_rare_embassy 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_rare_embassy
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_rare_embassy }
		}
		2.5 = { 
			set_country_flag = scavenge_poi_rare_bunker 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_rare_bunker
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_rare_bunker }
		}
		## Exotic
		1 = { 
			set_country_flag = scavenge_poi_exotic_labyrinth 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_exotic_labyrinth
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_exotic_labyrinth }
		}
		1 = { 
			set_country_flag = scavenge_poi_exotic_military_base 
			modifier = {
            	factor = 0
            	has_country_flag = scavenge_poi_exotic_military_base
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_exotic_military_base }
		}
		1 = { 
			set_country_flag = scavenge_poi_exotic_missile_silo 
			modifier = {
            	factor = 0
            	has_global_flag = poi_missile_discovered
        	}
			if = { limit = { is_debug = yes } custom_effect_tooltip = scavenge_poi_exotic_missile_silo }
		}
		## Unique
	}
}

scavenge_poi_event = {
	if = {
		limit = {
			has_country_flag = scavenge_poi_common_unmarked_building
		}
		random_list = {
			10 = { country_event = scavenge_poi_common_unmarked_building.1 }
			10 = { country_event = scavenge_poi_common_unmarked_building.2 }
			10 = { country_event = scavenge_poi_common_unmarked_building.3 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_common_construction_yard
		}
		random_list = {
			10 = { country_event = scavenge_poi_common_construction_yard.1 }
			10 = { country_event = scavenge_poi_common_construction_yard.2 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_common_warehouse
		}
		random_list = {
			10 = { country_event = scavenge_poi_common_warehouse.1 }
			10 = { country_event = scavenge_poi_common_warehouse.2 }
			10 = { country_event = scavenge_poi_common_warehouse.3 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_common_police_station
		}
		random_list = {
			10 = { country_event = scavenge_poi_common_police_station.1 }
			10 = { country_event = scavenge_poi_common_police_station.2 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_common_hospital
		}
		random_list = {
			10 = { country_event = scavenge_poi_common_hospital.1 }
			10 = { country_event = scavenge_poi_common_hospital.2 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_common_hardware_store
		}
		random_list = {
			10 = { country_event = scavenge_poi_common_hardware_store.1 }
			10 = { country_event = scavenge_poi_common_hardware_store.2 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_uncommon_church
		}
		random_list = {
			10 = { country_event = scavenge_poi_uncommon_church.1 }
			10 = { country_event = scavenge_poi_uncommon_church.2 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_uncommon_parkinglot
		}
		random_list = {
			10 = { country_event = scavenge_poi_uncommon_parkinglot.1 }
			10 = { country_event = scavenge_poi_uncommon_parkinglot.2 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_uncommon_parkinglot_inhabited
		}
		random_list = {
			10 = { country_event = scavenge_poi_uncommon_parkinglot_inhabited.1 }
			10 = { country_event = scavenge_poi_uncommon_parkinglot_inhabited.2 }
			10 = { country_event = scavenge_poi_uncommon_parkinglot_inhabited.3 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_uncommon_research_institute
		}
		random_list = {
			10 = { country_event = scavenge_poi_uncommon_research_institute.1 }
			10 = { country_event = scavenge_poi_uncommon_research_institute.2 }
			10 = { country_event = scavenge_poi_uncommon_research_institute.3 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_rare_embassy
		}
		random_list = {
			10 = { country_event = scavenge_poi_rare_embassy.1 }
			10 = { country_event = scavenge_poi_rare_embassy.2 }
			10 = { country_event = scavenge_poi_rare_embassy.3 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_rare_bunker
		}
		random_list = {
			10 = { country_event = scavenge_poi_rare_bunker.1 }
			10 = { country_event = scavenge_poi_rare_bunker.2 }
			10 = { country_event = scavenge_poi_rare_bunker.3 }
		}
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_exotic_labyrinth
		}
		country_event = scavenge_poi_exotic_labyrinth.1
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_exotic_military_base
		}
		country_event = scavenge_poi_exotic_military_base.1
	}
	if = {
		limit = {
			has_country_flag = scavenge_poi_exotic_missile_silo
		}
		country_event = scavenge_poi_exotic_missile_silo.1
	}
}

# Unused/ rewards are given via events
scavenge_roll_reward_poi = {}

