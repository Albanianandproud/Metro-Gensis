continuous_focus_position = { x = 50 y = 1000 }

focus_tree = {
	id = red_line
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = RED
		}
	}

	focus = {
		id = RED_introduction
		icon = GFX_focus_generic_join_comintern
		x = 16
		y = 0
		cost = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		    country_event = nf_RED.1
		}
	}

	focus = {
		id = RED_shut_down_mutinies
		icon = GFX_lenin
		cost = 3.6

		prerequisite = {
			focus = RED_introduction
		}

		mutually_exclusive = {
			focus = RED_use_korbut
		}

		relative_position_id = RED_introduction
		x = -3
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			modify_timed_idea = {
				idea = RED_mutinies
				days = -60
			}
		}
	}

	focus = {
		id = RED_scale_back_militarization
		icon = GFX_focus_BUL_condemn_macedonian_organizations
		cost = 3.6

		prerequisite = {
			focus = RED_shut_down_mutinies
			focus = RED_use_korbut
		}

		relative_position_id = RED_shut_down_mutinies
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_timed_idea = {
				idea = RED_militarization_scale_back
				days = 365
			}
			modify_timed_idea = {
				idea = RED_mutinies
				days = -60
			}
			custom_effect_tooltip = RED_scaleback_appeasement
		}
	}

	focus = {
		id = RED_workers_councils
		icon = GFX_RED_will_of_proletariat
		cost = 3.6

		prerequisite = {
			focus = RED_shut_down_mutinies
			focus = RED_use_korbut
		}

		relative_position_id = RED_shut_down_mutinies
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_popularity = {
				ideology = community
				popularity = 0.05
			}
			add_ideas = RED_workers_councils
			modify_timed_idea = {
				idea = RED_mutinies
				days = -60
			}
			custom_effect_tooltip = RED_council_appeasement
		}
	}

	focus = {
		id = RED_concessions_to_the_masses
		icon = GFX_RED_bread
		cost = 3.6

		prerequisite = {
			focus = RED_workers_councils
		}

		prerequisite = {
			focus = RED_scale_back_militarization
		}

		relative_position_id = RED_shut_down_mutinies
		x = 0
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = community
				popularity = 0.05
			}
			modify_timed_idea = {
				idea = RED_mutinies
				days = -120
			}
			custom_effect_tooltip = RED_concessions_appeasement
		}
	}

	focus = {
		id = RED_use_korbut
		icon = GFX_focus_generic_soviet_politics
		cost = 6.5

		prerequisite = {
			focus = RED_introduction
		}

		mutually_exclusive = {
			focus = RED_placate_ministers
		}
		mutually_exclusive = {
			focus = RED_shut_down_mutinies
		}

		relative_position_id = RED_introduction
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { #Korbut 'control' Mechanic
		    country_event = nf_RED.2
		    custom_effect_tooltip = RED_korbut_influence
		}
	}

	focus = {
		id = RED_reintroduce_chekists
		icon = GFX_RED_troops2
		cost = 6.5

		prerequisite = {
			focus = RED_use_korbut
		}

		relative_position_id = RED_use_korbut
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { 
			### Add the 'Chekist' Support Company
			add_ideas = RED_chekists
			modify_timed_idea = {
				idea = RED_mutinies
				days = -80
			}
			custom_effect_tooltip = RED_reintroduce_chekists
		}
	}

	focus = {
		id = RED_infiltrate_workers_culture
		icon = GFX_RED_spy_on_citizens
		cost = 6.5

		prerequisite = {
			focus = RED_reintroduce_chekists
		}

		relative_position_id = RED_reintroduce_chekists
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { 
			modify_timed_idea = {
				idea = RED_mutinies
				days = -240
			}
			add_timed_idea = {
			    idea = RED_kgb_patrols
			    days = 450
			}
			custom_effect_tooltip = RED_infiltration
		}
	}

	focus = {
		id = RED_watch_the_politburo
		icon = GFX_RED_politburo
		cost = 6.5

		prerequisite = {
			focus = RED_reintroduce_chekists
		}

		relative_position_id = RED_reintroduce_chekists
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { 
		    add_political_power = 90
			custom_effect_tooltip = RED_keep_watch
		}
	}

	focus = {
		id = RED_placate_ministers
		icon = GFX_goal_molotov_ribbentrop_pact
		cost = 3.6

		prerequisite = {
			focus = RED_introduction
		}

		mutually_exclusive = {
			focus = RED_use_korbut
		}

		relative_position_id = RED_introduction
		x = 3
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_timed_idea = {
			    idea = RED_placate_ministers
			    days = 180
			}
			custom_effect_tooltip = RED_placate_ministry
		}
	}

	focus = {
		id = RED_gather_politburo_support
		icon = GFX_goal_generic_forceful_treaty
		cost = 3.6

		prerequisite = {
			focus = RED_placate_ministers
			focus = RED_use_korbut
		}

		relative_position_id = RED_placate_ministers
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		available = {
			ROOT = {
			    has_political_power > 49
			}
		}

		completion_reward = {
			add_political_power = -50
			add_stability = 0.05
			modify_timed_idea = {
                idea = RED_placate_ministers
			    days = -30
			}
			custom_effect_tooltip = RED_garner_politburo_support
		}
	}

	focus = {
		id = RED_banner_of_the_revolution
		icon = GFX_focus_generic_join_comintern
		cost = 3.6

		prerequisite = {
			focus = RED_placate_ministers
			focus = RED_use_korbut
		}

		relative_position_id = RED_placate_ministers
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    241 = {
		        add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			modify_timed_idea = {
                idea = RED_placate_ministers
			    days = -30
			}
		}
	}

	focus = {
		id = RED_politburo_onboard
		icon = GFX_focus_chi_mission_to_the_soviet_union
		cost = 3.6

		prerequisite = {
			focus = RED_banner_of_the_revolution
		}

		prerequisite = {
			focus = RED_gather_politburo_support
		}

		relative_position_id = RED_placate_ministers
		x = 0
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			remove_ideas = RED_politburo_dissatisfied
			add_ideas = RED_politburo_onboard
			add_to_variable = { var = politburo_happiness value = 1 }
			custom_effect_tooltip = RED_politburo_happiness_increase
		}
	}

	focus = {
		id = RED_crisis_averted
		icon = GFX_RED_rodina
		cost = 3.6

		prerequisite = {
			focus = RED_infiltrate_workers_culture
			focus = RED_concessions_to_the_masses
		}

		prerequisite = {
			focus= RED_watch_the_politburo
			focus = RED_politburo_onboard
		}

		available = {
		    NOT = {
		        has_idea = RED_mutinies
		        has_idea = RED_placate_ministers
		    }
		}

		mutually_exclusive = {
		    focus = RED_civil_war
		}

		relative_position_id = RED_reintroduce_chekists
		x = -1
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_stability = 0.05
			add_political_power = 100
		}
	}

	focus = {
		id = RED_civil_war
		icon = GFX_fist
		cost = 3.6

		prerequisite = {
			focus = RED_infiltrate_workers_culture
			focus = RED_concessions_to_the_masses
		}

		prerequisite = {
			focus= RED_watch_the_politburo
			focus = RED_politburo_onboard
		}

		mutually_exclusive = {
		    focus = RED_crisis_averted
		}

		available = {
		    has_country_flag = RED_civilwar_mutiny
		}

		relative_position_id = RED_reintroduce_chekists
		x = 1
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	###

	focus = {
		id = RED_the_red_army
		icon = GFX_helmet
		cost = 6.5

		prerequisite = {
			focus = RED_introduction
		}

		available = {
		    NOT = {
		        has_idea = RED_mutinies
		        has_idea = RED_militarization_scale_back
		    }
		    has_completed_focus = RED_crisis_averted
		}

		relative_position_id = RED_introduction
		x = -10
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    army_experience = 15
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = RED_form_a_stalkers_corps
		icon = GFX_equipment_gasmask
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_army
		}

		relative_position_id = RED_the_red_army
		x = -3
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_war_redefined
		icon = GFX_equipment_electrical
		cost = 6.5

		prerequisite = {
			focus = RED_form_a_stalkers_corps
		}

		relative_position_id = RED_form_a_stalkers_corps
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    army_experience = 15
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = RED_surface_infiltration
		icon = GFX_soldier_3
		cost = 6.5

		prerequisite = {
			focus = RED_form_a_stalkers_corps
		}

		relative_position_id = RED_form_a_stalkers_corps
		x = 0
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_recon_tactics
		icon = GFX_gasmask
		cost = 6.5

		prerequisite = {
			focus = RED_surface_infiltration
		}

		relative_position_id = RED_surface_infiltration
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_military_7b
		icon = GFX_bullets_2
		cost = 6.5

		prerequisite = {
			focus = RED_surface_infiltration
		}

		relative_position_id = RED_surface_infiltration
		x = -2
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
	    }
	}

	focus = {
		id = RED_military_9
		icon = GFX_cityruins
		cost = 6.5

		prerequisite = {
			focus = RED_recon_tactics
		}

		relative_position_id = RED_recon_tactics
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_red_armya
		icon = GFX_equipment_backpack
		cost = 6.5

		prerequisite = {
			focus = RED_form_a_stalkers_corps
		}

		relative_position_id = RED_the_red_army
		x = -2
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_flamethrowers
		icon = GFX_special_arms_1
		cost = 6.5

		prerequisite = {
			focus = RED_military_5
		}

		relative_position_id = RED_the_red_army
		x = 2
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_ideas = RED_flamethrowers
		}
	}

	focus = {
		id = RED_chekist_instructors
		icon = GFX_RED_chekist
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_army
		}

		relative_position_id = RED_the_red_army
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_ideas = RED_chekist_instructors
		}
	}

	focus = {
		id = RED_chekist_soldiers
		icon = GFX_RED_chekists2
		cost = 6.5

		prerequisite = {
			focus = RED_chekist_instructors
		}

		available = {
		    has_completed_focus = RED_reintroduce_chekists
		}

		relative_position_id = RED_chekist_instructors
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_red_armyf
		icon = GFX_focus_generic_soviet_politics
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_armya
		}

		mutually_exclusive = {
			focus = RED_the_red_armyg
		}

		relative_position_id = RED_the_red_armya
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_red_armyi
		icon = GFX_RED_soldier_bust
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_armyf
		}

		relative_position_id = RED_the_red_armyf
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_red_armyg
		icon = GFX_focus_generic_soviet_politics
		cost = 6.5

		prerequisite = {
			focus = RED_the_flamethrowers
		}

		mutually_exclusive = {
			focus = RED_the_red_armyf
		}

		relative_position_id = RED_the_flamethrowers
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_red_armyh
		icon = GFX_RED_troops2
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_armyg
		}

		relative_position_id = RED_the_red_armyg
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_the_red_armyj
		icon = GFX_RED_soviet_industry
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_armyh
		}

		prerequisite = {
			focus = RED_the_red_armyi
		}

		relative_position_id = RED_chekist_soldiers
		x = 0
		y = 3

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_military_5
		icon = GFX_reinforcement
		cost = 6.5

		prerequisite = {
			focus = RED_the_red_army
		}

		relative_position_id = RED_the_red_army
		x = 3
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_lessons_from_hanza_war
		icon = GFX_soldier_2
		cost = 6.5

		prerequisite = {
			focus = RED_military_5
		}

		relative_position_id = RED_military_5
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    army_experience = 15
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 1.0
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = RED_military_6
		icon = GFX_gunsupply
		cost = 6.5

		prerequisite = {
			focus = RED_military_5
		}

		relative_position_id = RED_military_5
		x = 0
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_military_7
		icon = GFX_medium_arms_1
		cost = 6.5

		prerequisite = {
			focus = RED_military_6
		}

		relative_position_id = RED_military_6
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    add_ideas = RED_gun_production_boost
		}
	}

	focus = {
		id = RED_military_7a
		icon = GFX_bullets_2
		cost = 6.5

		prerequisite = {
			focus = RED_military_6
		}

		relative_position_id = RED_military_6
		x = 2
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
	    }
	}

	focus = {
		id = RED_military_10
		icon = GFX_crate
		cost = 6.5

		prerequisite = {
			focus = RED_military_7
		}

		relative_position_id = RED_military_7
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}
}