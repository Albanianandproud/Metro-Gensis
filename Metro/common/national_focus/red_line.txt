continuous_focus_position = { x = 50 y = 1000 }

focus_tree = {
	id = red_line
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = RED
		}
	}

	focus = {
		id = RED_introduction
		icon = GFX_focus_generic_join_comintern
		x = 20
		y = 0
		cost = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		    country_event = nf_RED.1
		}
	}

	focus = {
		id = RED_adress_the_situation
		icon = GFX_focus_generic_join_comintern
		cost = 1

		relative_position_id = RED_introduction
		x = 0
		y = 1

		prerequisite = {
			focus = RED_introduction
		}

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		    country_event = nf_RED.4
		}
	}

	focus = {
		id = RED_shut_down_mutinies
		icon = GFX_lenin
		cost = 3.6

		prerequisite = {
			focus = RED_adress_the_situation
		}

		mutually_exclusive = {
			focus = RED_use_korbut
		}

		relative_position_id = RED_adress_the_situation
		x = -4
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			modify_timed_idea = {
				idea = RED_mutinies
				days = -60
			}
		}
	}

	focus = {
		id = RED_scale_back_militarization
		icon = GFX_focus_BUL_condemn_macedonian_organizations
		cost = 3.6

		prerequisite = {
			focus = RED_shut_down_mutinies
			focus = RED_use_korbut
		}

		relative_position_id = RED_shut_down_mutinies
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_timed_idea = {
				idea = RED_militarization_scale_back
				days = 365
			}
			modify_timed_idea = {
				idea = RED_mutinies
				days = -60
			}
		}
	}

	focus = {
		id = RED_workers_councils
		icon = GFX_RED_will_of_proletariat
		cost = 3.6

		prerequisite = {
			focus = RED_shut_down_mutinies
			focus = RED_use_korbut
		}

		relative_position_id = RED_shut_down_mutinies
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_popularity = {
				ideology = community
				popularity = 0.05
			}
			add_ideas = RED_workers_councils
			modify_timed_idea = {
				idea = RED_mutinies
				days = -60
			}
		}
	}

	focus = {
		id = RED_concessions_to_the_masses
		icon = GFX_RED_bread
		cost = 3.6

		prerequisite = {
			focus = RED_workers_councils
		}

		prerequisite = {
			focus = RED_scale_back_militarization
		}

		relative_position_id = RED_shut_down_mutinies
		x = 0
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_political_power = 75
			add_popularity = {
				ideology = community
				popularity = 0.05
			}
			modify_timed_idea = {
				idea = RED_mutinies
				days = -120
			}
		}
	}

	focus = {
		id = RED_use_korbut
		icon = GFX_RED_NKVD_2
		cost = 6.5

		prerequisite = {
			focus = RED_adress_the_situation
		}

		mutually_exclusive = {
			focus = RED_placate_ministers
		}
		mutually_exclusive = {
			focus = RED_shut_down_mutinies
		}

		relative_position_id = RED_adress_the_situation
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { #Korbut 'control' Mechanic
		    country_event = nf_RED.2
		    custom_effect_tooltip = RED_korbut_influence
		}
	}

	focus = {
		id = RED_reintroduce_chekists
		icon = GFX_RED_NKVD
		cost = 6.5

		prerequisite = {
			focus = RED_use_korbut
		}

		relative_position_id = RED_use_korbut
		x = 0
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { 
			### Add the 'Chekist' Support Company
			add_ideas = RED_chekists
			modify_timed_idea = {
				idea = RED_mutinies
				days = -80
			}
			custom_effect_tooltip = RED_reintroduce_chekists
		}
	}

	focus = {
		id = RED_infiltrate_workers_culture
		icon = GFX_RED_infiltration
		cost = 6.5

		prerequisite = {
			focus = RED_reintroduce_chekists
		}

		relative_position_id = RED_reintroduce_chekists
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { 
			modify_timed_idea = {
				idea = RED_mutinies
				days = -240
			}
			add_timed_idea = {
			    idea = RED_kgb_patrols
			    days = 400
			}
		}
	}

	focus = {
		id = RED_watch_the_politburo
		icon = GFX_RED_politburo
		cost = 6.5

		prerequisite = {
			focus = RED_reintroduce_chekists
		}

		relative_position_id = RED_reintroduce_chekists
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = { 
		    add_political_power = 90
		}
	}

	focus = {
		id = RED_placate_ministers
		icon = GFX_goal_molotov_ribbentrop_pact
		cost = 3.6

		prerequisite = {
			focus = RED_adress_the_situation
		}

		mutually_exclusive = {
			focus = RED_use_korbut
		}

		relative_position_id = RED_adress_the_situation
		x = 4
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_timed_idea = {
			    idea = RED_placate_ministers
			    days = 90
			}
			custom_effect_tooltip = RED_placate_ministry
		}
	}

	focus = {
		id = RED_gather_politburo_support
		icon = GFX_goal_generic_forceful_treaty
		cost = 3.6

		prerequisite = {
			focus = RED_placate_ministers
			focus = RED_use_korbut
		}

		relative_position_id = RED_placate_ministers
		x = -1
		y = 1

		ai_will_do = {
			factor = 3
		}

		available = {
			ROOT = {
			    has_political_power > 49
			}
		}

		completion_reward = {
			add_political_power = -50
			add_stability = 0.05
			modify_timed_idea = {
                idea = RED_placate_ministers
			    days = -30
			}
		}
	}

	focus = {
		id = RED_banner_of_the_revolution
		icon = GFX_focus_generic_join_comintern
		cost = 3.6

		prerequisite = {
			focus = RED_placate_ministers
			focus = RED_use_korbut
		}

		relative_position_id = RED_placate_ministers
		x = 1
		y = 1

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		    241 = {
		        add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			modify_timed_idea = {
                idea = RED_placate_ministers
			    days = -30
			}
		}
	}

	focus = {
		id = RED_politburo_onboard
		icon = GFX_focus_chi_mission_to_the_soviet_union
		cost = 3.6

		prerequisite = {
			focus = RED_banner_of_the_revolution
		}

		prerequisite = {
			focus = RED_gather_politburo_support
		}

		relative_position_id = RED_placate_ministers
		x = 0
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			politburo_content = yes
			add_to_variable = { var = politburo_happiness value = 5 }
			custom_effect_tooltip = RED_politburo_happiness_increase
		}
	}

	focus = {
		id = RED_crisis_averted
		icon = GFX_RED_rodina
		cost = 3.6

		prerequisite = {
			focus = RED_infiltrate_workers_culture
			focus = RED_concessions_to_the_masses
		}

		prerequisite = {
			focus= RED_watch_the_politburo
			focus = RED_politburo_onboard
		}

		available = {
		    NOT = {
		        has_idea = RED_mutinies
		        has_idea = RED_placate_ministers
		    }
		}

		mutually_exclusive = {
		    focus = RED_civil_war
		}

		relative_position_id = RED_reintroduce_chekists
		x = -1
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_stability = 0.05
			add_political_power = 100
		}
	}

	focus = {
		id = RED_civil_war
		icon = GFX_fist
		cost = 3.6

		prerequisite = {
			focus = RED_infiltrate_workers_culture
			focus = RED_concessions_to_the_masses
		}

		prerequisite = {
			focus= RED_watch_the_politburo
			focus = RED_politburo_onboard
		}

		mutually_exclusive = {
		    focus = RED_crisis_averted
		}

		available = {
		    has_country_flag = RED_civilwar_mutiny
		}

		relative_position_id = RED_reintroduce_chekists
		x = 1
		y = 2

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
		}
	}

	### Stalker Branch ###

	focus = {
		id = RED_surface_studies
		icon = GFX_clearsky
		cost = 4

		relative_position_id = RED_restructuring
		x = -10
		y = 1

		available = {
			has_completed_focus = RED_restructuring
		}

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_tech_bonus = {
				name = stalkergear
				bonus = 0.5
				uses = 1
				category = clothing_kits
			}
			add_tech_bonus = {
				name = stalkergasmasks
				bonus = 0.5
				uses = 1
				category = gas_mask
			}
		}
	}

	focus = {
		id = RED_stalker_tactics
		icon = GFX_stalker1
		cost = 4

		prerequisite = {
			focus= RED_surface_studies
		}

		relative_position_id = RED_surface_studies
		x = 0
		y = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_ideas = RED_stalker_tactics
		}
	}

	focus = {
		id = RED_soviet_memrobillia
		icon = GFX_RED_victory_soviet
		cost = 4

		prerequisite = {
			focus= RED_surface_studies
		}

		relative_position_id = RED_surface_studies
		x = 2
		y = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_political_power = 60
			custom_effect_tooltip = Soviet_Memrobilia
			### Unlocks Memrobilia decisions ###
		}
	}

	focus = {
		id = RED_lenin_tomb
		icon = GFX_RED_generic_leninism
		cost = 4

		prerequisite = {
			focus= RED_soviet_memrobillia
		}

		relative_position_id = RED_soviet_memrobillia
		x = -1
		y = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			country_event = nf_RED.5
		}
	}

	focus = {
		id = RED_point_in_the_storm
		icon = GFX_cityruins3
		cost = 4

		prerequisite = {
			focus= RED_surface_studies
		}

		available = {
			always = no
		}

		relative_position_id = RED_surface_studies
		x = -2
		y = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			## When Surface is Added ##
			custom_effect_tooltip = Future_Update
		}
	}

	focus = {
		id = RED_listening_posts
		icon = GFX_HNZ_radio
		cost = 4

		prerequisite = {
			focus = RED_point_in_the_storm
		}

		available = {
			always = no
		}

		relative_position_id = RED_point_in_the_storm
		x = 1
		y = 1

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			## When Surface is Added ##
			custom_effect_tooltip = Future_Update
		}
	}

	### Political Branch ###

	focus = {
		id = RED_restructuring
		icon = GFX_RED_handshake
		cost = 1

		relative_position_id = RED_introduction
		x = 0
		y = 7

		available = {
			has_completed_focus = RED_crises_averted
		}

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_establish_gosplan
		icon = GFX_RED_gosplan
		cost = 1

		relative_position_id = RED_restructuring
		x = -2
		y = 1

		prerequisite = {
			focus = RED_restructuring
		}

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_arts_culture
		icon = GFX_RED_megaphone_politburo
		cost = 1

		relative_position_id = RED_restructuring
		x = 0
		y = 1

		prerequisite = {
			focus = RED_restructuring
		}

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		}
	}

	focus = {
		id = RED_liquidate_private_sector
		icon = GFX_smash_capitalist
		cost = 1

		relative_position_id = RED_restructuring
		x = 2
		y = 1

		prerequisite = {
			focus = RED_restructuring
		}

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
		}
	}
}