HNZ_satellite = {
	
	satellite_request_factories = {
		icon = decision_satellite_request_factories
		allowed = {
			under_hanza_influence = yes	
		}
		visible = {
			under_hanza_influence = yes
			NOT = {
				ROOT = { has_country_flag = satellite_requesting_factories }
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip =  satellite_max_factory_request_threshold_tt
			}
			check_variable = { satellite_workshops_leased < 3 }
			has_opinion = {
    			target = HNZ
    			value > 9
			}
		}

		cost = 25
		days_remove = 45
		days_re_enable = 135

		complete_effect = {
			hidden_effect = {
				ROOT = { set_country_flag = satellite_requesting_factories }
			}
		}
		remove_effect = {
			custom_effect_tooltip = satellite_begin_requesting_factories_tt
			HNZ = {
				country_event = nf_HNZ.22	## mom, can we have factories event
			}
		}

		ai_will_do = {
			factor = 5
		}
	}

	satellite_cancel_factory_request = {
		icon = decision_satellite_cancel_factories
		cost = 5
		days_remove = 14
		fire_only_once = no

		cancel_if_not_visible = yes

		available = {
			custom_trigger_tooltip = {
				tooltip =  satellite_cancel_factories_tt
			}
			check_variable = { satellite_workshops_leased > 0 }
		}

		remove_effect = {
			set_country_flag = satellite_cancel_factories
		}

		complete_effect = {
			clr_country_flag = satellite_cancel_factories
			satellite_factories_flush = yes
			clear_variable = satellite_workshops_leased
			HNZ = {
				country_event = { 
					id = nf_HNZ.25
					days = 4
					random_days = 4
				}
			}
		}	

		ai_will_do = {
			factor = 0
		}
	}

	satellite_request_guns = {
		icon = decision_satellite_request_guns
		## Ask Hanza for Guns
		cost = 10
		days_remove = 21
		visible = {
			HNZ = { 
				has_equipment = {
    				infantry_equipment > 29
				}
			}
		}
		available = {
			HNZ = { 
				has_equipment = {
    				infantry_equipment > 29
				}
			}
			has_opinion = {
    			target = HNZ
    			value > 9
			}
			custom_trigger_tooltip = {
				tooltip =  satellite_bullets_wip_tt
			}
		}
		complete_effect = {
			add_equipment_to_stockpile = {
		       	type = infantry_equipment
		        amount = 30
		        producer = HNZ
		    }
			hidden_effect = {
				add_to_variable = {
					var = satellite_guns_given
					value = 30
				}
				HNZ = {
					add_equipment_to_stockpile = {
		       		 	type = infantry_equipment
		        		amount = -30
		    		}
				}
			}
		}
	}

	satellite_request_flamethrowers = {
		icon = decision_satellite_request_flamethrower
		## Ask Hanza for Flamethrowers
		cost = 10
		days_remove = 21
		visible = {
			HNZ = { 
				has_equipment = {
    				flamethrower_equipment_0 > 14
				}
			}
		}
		available = {
			HNZ = { 
				has_equipment = {
    				flamethrower_equipment_0 > 14
				}
			}
			has_opinion = {
    			target = HNZ
    			value > 9
			}
			custom_trigger_tooltip = {
				tooltip =  satellite_bullets_wip_tt
			}
		}
		complete_effect = {
			add_equipment_to_stockpile = {
		       	type = flamethrower_equipment_0
		        amount = 15
		        producer = HNZ
		    }
			hidden_effect = {
				add_to_variable = {
					var = satellite_flamethrower_given
					value = 15
				}
				HNZ = {
					add_equipment_to_stockpile = {
		       		 	type = flamethrower_equipment_0
		        		amount = -15
		    		}
				}
			}
		}
		modifier = {
				factor = 15
				has_template_containing_unit = flamethrower_support
				stockpile_ratio = {
    				archetype = flamethrower_equipment_0
    				ratio > 0.3
				}
			}
	}

	satellite_request_gatling = {
		icon = decision_satellite_request_gatling
		## Ask Hanza for Gatling
		cost = 10
		days_remove = 21
		visible = {
			HNZ = { 
				has_equipment = {
    				gatling_equipment_0 > 14
				}
			}
		}
		available = {
			HNZ = { 
				has_equipment = {
    				gatling_equipment_0 > 14
				}
			}
			has_opinion = {
    			target = HNZ
    			value > 9
			}
			custom_trigger_tooltip = {
				tooltip =  satellite_bullets_wip_tt
			}
		}
		complete_effect = {
			add_equipment_to_stockpile = {
		       	type = gatling_equipment_0
		        amount = 15
		        producer = HNZ
		    }
			hidden_effect = {
				add_to_variable = {
					var = satellite_gattling_given
					value = 15
				}
				HNZ = {
					add_equipment_to_stockpile = {
		       		 	type = gatling_equipment_0
		        		amount = -15
		    		}
				}
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 15
				has_template_containing_unit = gatling_support
				stockpile_ratio = {
    				archetype = gatling_equipment_0
    				ratio > 0.3
				}
			}
		}
	}

	satellite_request_explosive = {
		icon = decision_satellite_request_explosive
		## Ask Hanza for Explosive
		cost = 10
		days_remove = 21
		visible = {
			HNZ = { 
				has_equipment = {
    				explosive_equipment_0 > 14
				}
			}
		}
		available = {
			HNZ = { 
				has_equipment = {
    				explosive_equipment_0 > 14
				}
			}
			has_opinion = {
    			target = HNZ
    			value > 9
			}
			custom_trigger_tooltip = {
				tooltip =  satellite_bullets_wip_tt
			}
		}
		complete_effect = {
			add_equipment_to_stockpile = {
		       	type = explosive_equipment_0
		        amount = 15
		        producer = HNZ
		    }
			hidden_effect = {
				add_to_variable = {
					var = satellite_explosive_given
					value = 15
				}
				HNZ = {
					add_equipment_to_stockpile = {
		       		 	type = explosive_equipment_0
		        		amount = -15
		    		}
				}
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 15
				has_template_containing_unit = explosive_support
				stockpile_ratio = {
    				archetype = explosive_equipment_0
    				ratio > 0.3
				}
			}
		}
	}

	satellite_request_technican_knowledge = {
		## Gain research buff for economic influence !
		icon = decision_satellite_request_technican
		cost = 30
		days_remove = 30
		days_re_enable = 270
	}

	satellite_hire_economic_advisor = {
		icon = decision_satellite_hire_economic_advisor
		## Recieve an economist, however increases pull to Hanza
		cost = 30
		days_remove = 60
		fire_only_once = yes

		remove_effect = {
			hidden_effect = {
				add_to_variable = {
					var = satellite_economic_subversion
					value = 10
				}
				add_to_variable = {
					var = satellite_politics_subversion
					value = 5
				}
			}
			custom_effect_tooltip = satellite_small_eco_subversion_tt
			custom_effect_tooltip = satellite_small_pol_subversion_tt
			custom_effect_tooltip = satellite_hiring_economic_advisor_tt

			generate_character = {
    			token_base = HNZ_economic_advisor
    			name = HNZ_economic_advisor
    			advisor = {
    				slot = political_advisor
    				cost = 100
    				idea_token = HNZ_economic_advisor
    				traits = {
        				HNZ_economic_liason
    				}
    				allowed = {
						has_opinion = {
    						target = HNZ
    						value > 9
						}
					}
					on_add = {
						add_to_variable = {
							var = satellite_economic_subversion
							value = 5
						}
						add_to_variable = {
							var = satellite_politics_subversion
							value = 5
						}
					}
					on_remove = {
						subtract_from_variable = {
							var = satellite_economic_subversion
							value = 5
						}
						subtract_from_variable = {
							var = satellite_politics_subversion
							value = 5
						}
					}
    			}
    			portraits = { 
					army = { small = GFX_idea_generic_minister_30 }
				}
 			}
 			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HNZ_economic_liason
		}
	}
}